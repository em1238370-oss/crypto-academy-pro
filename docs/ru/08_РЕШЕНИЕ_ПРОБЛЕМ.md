# Руководство по решению проблем

## Частые проблемы и решения

### Проблема: Не могу открыть подсайты (ERR_CONNECTION_TIMED_OUT)

**Проблема:** Получаете ошибку таймаута при попытке открыть подсайты, например Crypto Basics.

**Симптомы:**
- Ошибка: "ERR_CONNECTION_TIMED_OUT"
- Не могу получить доступ к `192.168.1.142:4000/sub-sites/...`
- Сайт не загружается

**Решения:**

#### Решение 1: Проверить, что сервер запущен
```bash
cd /Users/elizavetamedvedeva/Documents/GitHub/crypto-academy-pro
npm start
```

#### Решение 2: Использовать относительные пути
Вместо жестко заданных IP адресов типа `http://192.168.1.142:4000/sub-sites/...`, используйте относительные пути:
```html
<!-- ❌ Неправильно -->
<a href="http://192.168.1.142:4000/sub-sites/crypto-basics/index.html">

<!-- ✅ Правильно -->
<a href="sub-sites/crypto-basics/index.html">
```

#### Решение 3: Проверить конфигурацию порта
```bash
# Проверить на каком порту работает сервер
cat .env | grep PORT

# Или проверить запущенные процессы
lsof -i -P | grep node | grep LISTEN
```

#### Решение 4: Перезапустить сервер
```bash
# Остановить существующий сервер
pkill -f "node server.js"

# Запустить заново
npm start
```

---

### Проблема: Сервер не запускается

**Проблема:** Сервер не запускается или сразу падает.

**Решения:**

1. **Проверить доступность порта**
```bash
lsof -i :4000
# Если порт занят, завершите процесс или измените PORT в .env
```

2. **Проверить переменные окружения**
```bash
# Убедитесь, что файл .env существует и имеет необходимые переменные
cat .env
```

3. **Проверить зависимости**
```bash
npm install
```

4. **Проверить версию Node**
```bash
node --version  # Должна быть 18+
```

---

### Проблема: Подсайты не загружаются

**Проблема:** Подсайты возвращают 404 или не загружаются правильно.

**Решения:**

1. **Проверить пути к файлам**
   - Убедитесь, что файлы существуют в директории `sub-sites/`
   - Проверьте, что имена файлов совпадают точно

2. **Проверить статические файлы сервера**
   - Сервер должен раздавать статические файлы из корня
   - Проверьте в `server.js`: `app.use(express.static(__dirname))`

3. **Использовать относительные пути**
   - Не используйте абсолютные URL с IP адресами
   - Используйте относительные пути: `sub-sites/news/index.html`

---

## Быстрые исправления

### Перезапустить всё
```bash
# Завершить все процессы node
pkill -f node

# Перезапустить сервер
cd /Users/elizavetamedvedeva/Documents/GitHub/crypto-academy-pro
npm start
```

### Проверить статус сервера
```bash
# Проверить, запущен ли сервер
ps aux | grep "node server.js"

# Проверить на каком порту работает
lsof -i -P | grep node | grep LISTEN
```

### Протестировать локальный доступ
```bash
# Проверить, отвечает ли сервер
curl http://localhost:4000/health
# Или
curl http://localhost:4000/
```

---

## Получение помощи

Если проблемы сохраняются:
1. Проверьте логи сервера
2. Проверьте консоль браузера (F12)
3. Проверьте все переменные окружения
4. Проверьте права доступа к файлам
5. Изучите документацию

---

**Последнее обновление:** Январь 2024

