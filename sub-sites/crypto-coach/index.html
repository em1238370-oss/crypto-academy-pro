<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Crypto Coach - Crypto Academy Pro</title>
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
   <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@700&display=swap" rel="stylesheet">
   <link href="https://fonts.googleapis.com/css2?family=Telegraf:wght@700&display=swap" rel="stylesheet">
   <link href="https://fonts.cdnfonts.com/css/telegraf" rel="stylesheet">
    <link rel="stylesheet" href="styles.css?v=13.0">
   <!-- Chart.js for portfolio graphs -->
   <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
   <script src="scripts/table-modules.js" defer></script>
</head>
<body>
   <div class="page">
       <div class="content">
           <!-- ÐšÑ€Ð¸Ð¿Ñ‚Ð¾-ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ Ñ„Ð¾Ð½Ð° (Ð°Ð½Ð¸Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ) -->
           <div class="crypto-elements">
               <!-- ÐŸÐ»Ð°Ð²Ð°ÑŽÑ‰Ð¸Ðµ Ð±Ð»Ð¾ÐºÑ‡ÐµÐ¹Ð½-Ð±Ð»Ð¾ÐºÐ¸ -->
               <div class="blockchain-block block-1"></div>
               <div class="blockchain-block block-2"></div>
               <div class="blockchain-block block-3"></div>
               <!-- Ð§Ð°ÑÑ‚Ð¸Ñ†Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ… -->
               <div class="data-particle particle-1"></div>
               <div class="data-particle particle-2"></div>
               <div class="data-particle particle-3"></div>
               <div class="data-particle particle-4"></div>
               <div class="data-particle particle-5"></div>
               <!-- Ð¡Ð²ÐµÑ‚ÑÑ‰Ð¸ÐµÑÑ Ñ‚Ð¾Ñ‡ÐºÐ¸ (Ð½Ð¾Ð´Ñ‹ ÑÐµÑ‚Ð¸) -->
               <div class="network-node node-1"></div>
               <div class="network-node node-2"></div>
               <div class="network-node node-3"></div>
               <div class="network-node node-4"></div>
           </div>
           
           <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
           <div class="crypto-coach-container">
               <h1>Crypto Coach: HODL Hard,<br>Love Soft!</h1>
           </div>
           
           <!-- ÐÐ¾Ð²Ñ‹Ð¹ Ñ‚ÐµÐºÑÑ‚ -->
           <div class="crypto-text-block">
               <!-- Ð˜Ð½Ð´Ð¸ÐºÐ°Ñ‚Ð¾Ñ€ ÑƒÑ€Ð¾Ð²Ð½Ñ Ð½Ð°Ð²Ñ‹ÐºÐ° -->
               <div class="skill-level-indicator">
                   <div class="skill-level-label">Your Crypto Skill Level</div>
                   <div class="skill-level-bar">
                       <div class="skill-level-fill" id="skillLevelFill"></div>
                       <div class="skill-level-text" id="skillLevelText">Level 1 - Beginner</div>
                   </div>
               </div>
               
               
               <div class="intro-text">
                   Welcome to <span class="highlight" data-word="coach" data-skill="coaching">Coach Crypto</span>, your gateway to mastering the exciting world of cryptocurrency! This section provides a solid foundation, equipping you with the essential knowledge to navigate the crypto space confidently. The best way to truly understand crypto is through <span class="highlight" data-word="hands-on" data-skill="practice">hands-on experience</span>â€”learning by doing sticks like nothing else. <span class="highlight" data-word="coach" data-skill="coaching">Coach Crypto</span> offers the tools, insights, and guidance to experiment, practice, and grow. While we'll help you deepen your understanding and sharpen your skills, the real magic happens when you apply what you learn and discover through your own journey. This is your <span class="highlight" data-word="playground" data-skill="exploration">playground</span> to explore, make mistakes, and unlock the potential of cryptoâ€”start here and experiment boldly!<br><br><span class="highlight warning-notice" data-word="warning">âš  IMPORTANT NOTICE:</span> The modules presented here are designed for training and development purposes only. Any advice, suggestions, or strategies offered are educational tools meant to enhance your understanding. October 10th proved to us all in crypto that it's impossible to calculate everythingâ€”cryptocurrency markets are unpredictable and volatile. You must evaluate all risks yourself and manage your risk accordingly. Any actions you take based on information or suggestions in these modules are entirely your own responsibility. In case of any loss, the responsibility lies solely with you. Trade at your own risk.
               </div>
           </div>
           
           <!-- Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° Ñ Ð¼Ð¾Ð´ÑƒÐ»ÑÐ¼Ð¸ -->
           <div class="crypto-table-block">
               <div class="modules-container">
                   <h1 class="main-title">Master Crypto with Coach Crypto: Unlock the Secrets</h1>

                   <!-- Module A: Interactive Trading Simulator -->
                   <div class="drawer-container">
                       <div class="drawer" id="drawerA">
                              <div class="drawer-header" onclick="toggleDrawerWithInit('drawerA')">
                               <h2>A. Interactive Trading Simulator 
                                   <span class="free-badge" style="
                                       background: linear-gradient(135deg, rgba(255, 215, 0, 0.8) 0%, rgba(255, 200, 0, 0.9) 100%);
                                       padding: 5px 15px;
                                       border-radius: 20px;
                                       font-size: 0.9rem;
                                       margin-left: 15px;
                                       color: #000000;
                                       font-weight: bold;
                                       text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
                                       box-shadow: 0 0 15px rgba(255, 215, 0, 0.6), inset 0 0 10px rgba(255, 255, 255, 0.3);
                                       animation: badgePulse 2s ease-in-out infinite;
                                       display: inline-block;
                                       position: relative;
                                   ">âœ¨ FREE âœ¨</span>
                               </h2>
                               <span class="drawer-icon">â–¼</span>
                           </div>
                           <div class="drawer-content">
                               <h3 style="color: #ffffff; margin-bottom: 20px;">Virtual environment for trading practice without real money</h3>
                               
                               <div class="portfolio-section">
                                   <h3>Your Portfolio</h3>
                                  <div class="portfolio-input-wrapper">
                                      <label for="portfolioInput" style="display: block; color: #ffffff; margin-bottom: 10px; font-size: 1rem; line-height: 1.5;">Enter your portfolio value:</label>
                                      <input type="number" id="portfolioInput" class="portfolio-input" value="10000" min="1" step="0.01" placeholder="Enter amount">
                                   <div class="portfolio-value" id="portfolioValue">$10,000.00</div>
                                  </div>
                                  <div class="profit-loss" id="profitLoss" style="margin-top: 15px; line-height: 1.6;">
                                       <span id="profitLossValue">+$0.00</span> (<span id="profitLossPercent">0.00%</span>)
                                   </div>
                                   
                                   <!-- Portfolio Health Score -->
                                   <div class="portfolio-health-score" style="
                                       margin-top: 25px;
                                       padding: 20px;
                                       background: linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, rgba(255, 200, 0, 0.15) 100%);
                                       border: 2px solid rgba(255, 215, 0, 0.4);
                                       border-radius: 12px;
                                       box-shadow: 0 0 20px rgba(255, 215, 0, 0.2);
                                   ">
                                       <h4 style="color: #ffd700; margin-bottom: 15px; font-size: 1.2rem; text-align: center;">ðŸŽ¯ Portfolio Health Score</h4>
                                       <div style="text-align: center; margin-bottom: 15px;">
                                           <div id="healthScoreValue" style="
                                               font-size: 3rem;
                                               font-weight: bold;
                                               color: #ffd700;
                                               text-shadow: 0 0 15px rgba(255, 215, 0, 0.6);
                                               margin-bottom: 5px;
                                           ">0</div>
                                           <div id="healthScoreLabel" style="
                                               font-size: 1.1rem;
                                               color: #ffffff;
                                               font-weight: 500;
                                           ">Calculating...</div>
                                       </div>
                                       <div id="healthMetrics" style="
                                           display: grid;
                                           grid-template-columns: repeat(3, 1fr);
                                           gap: 10px;
                                           margin-top: 15px;
                                       ">
                                           <div class="health-metric" style="
                                               text-align: center;
                                               padding: 10px;
                                               background: rgba(0, 0, 0, 0.3);
                                               border-radius: 8px;
                                           ">
                                               <div style="color: #ffd700; font-size: 0.9rem; margin-bottom: 5px;">Diversification</div>
                                               <div id="diversificationScore" style="color: #ffffff; font-weight: bold;">-</div>
                                           </div>
                                           <div class="health-metric" style="
                                               text-align: center;
                                               padding: 10px;
                                               background: rgba(0, 0, 0, 0.3);
                                               border-radius: 8px;
                                           ">
                                               <div style="color: #ffd700; font-size: 0.9rem; margin-bottom: 5px;">Balance</div>
                                               <div id="balanceScore" style="color: #ffffff; font-weight: bold;">-</div>
                                           </div>
                                           <div class="health-metric" style="
                                               text-align: center;
                                               padding: 10px;
                                               background: rgba(0, 0, 0, 0.3);
                                               border-radius: 8px;
                                           ">
                                               <div style="color: #ffd700; font-size: 0.9rem; margin-bottom: 5px;">Risk Level</div>
                                               <div id="riskScore" style="color: #ffffff; font-weight: bold;">-</div>
                                           </div>
                                       </div>
                                   </div>
                               </div>

                               <!-- Live Market Heatmap -->
                               <div class="market-heatmap-section" style="margin-bottom: 30px;">
                                   <h4 style="color: #ffffff; margin-bottom: 15px; font-size: 1.3rem;">ðŸ“Š Live Market Heatmap</h4>
                                   <div id="marketHeatmap" style="
                                       background: rgba(0, 0, 0, 0.5);
                                       border: 2px solid rgba(255, 215, 0, 0.3);
                                       border-radius: 12px;
                                       padding: 20px;
                                       display: grid;
                                       grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
                                       gap: 10px;
                                       max-height: 300px;
                                       overflow-y: auto;
                                   "></div>
                               </div>

                               <div class="section-title">Select Coins to Invest In</div>
                               <div class="coins-grid" id="coinsGrid"></div>

                               <div class="section-title">Selected Coins</div>
                               <div id="selectedCoinsList" class="selected-coins-list"></div>

                               <div class="ai-recommendations">
                                   <h4>AI Recommendations Based on Market Analysis</h4>
                                   <div id="recommendationsContent">
                                       <p style="color: #ffffff; font-weight: bold;">Select coins to get AI recommendations</p>
                                   </div>
                               </div>

                               <div class="leaderboard">
                                  <h4>My Portfolio Tracker</h4>
                                  <div id="portfolioSelector" style="margin-bottom: 20px;">
                                      <label for="portfolioName" style="display: block; color: #ffffff; margin-bottom: 10px; font-size: 1rem;">Portfolio Name:</label>
                                      <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                                          <input type="text" id="portfolioName" placeholder="Enter portfolio name (e.g., My Crypto Portfolio)" 
                                                 style="flex: 1; padding: 10px; background: rgba(0, 0, 0, 0.4); border: 2px solid rgba(255, 0, 0, 0.3); border-radius: 8px; color: #ffffff; font-size: 1rem;">
                                          <button class="btn btn-red" onclick="savePortfolio()" style="padding: 10px 20px;">Save Portfolio</button>
                                      </div>
                                      <select id="savedPortfolioSelect" onchange="loadPortfolioGraph(this.value)" 
                                              style="width: 100%; padding: 10px; background: rgba(0, 0, 0, 0.4); border: 2px solid rgba(255, 0, 0, 0.3); border-radius: 8px; color: #ffffff; font-size: 1rem; margin-bottom: 15px;">
                                          <option value="">Select a saved portfolio...</option>
                                      </select>
                                  </div>
                                  <div id="portfolioGraphContainer" style="display: none; margin-bottom: 20px;">
                                      <!-- Multi-Timeframe View -->
                                      <div class="multi-timeframe-section" style="margin-bottom: 20px;">
                                          <h4 style="color: #ffffff; margin-bottom: 15px; font-size: 1.2rem; text-align: center;">ðŸ“ˆ Multi-Timeframe View</h4>
                                          <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-bottom: 15px;">
                                              <div style="background: rgba(0, 0, 0, 0.4); border: 1px solid rgba(255, 215, 0, 0.3); border-radius: 8px; padding: 10px;">
                                                  <div style="color: #ffd700; font-size: 0.9rem; margin-bottom: 5px; text-align: center;">1 Hour</div>
                                                  <canvas id="timeframe1h" style="width: 100%; height: 120px;"></canvas>
                                              </div>
                                              <div style="background: rgba(0, 0, 0, 0.4); border: 1px solid rgba(255, 215, 0, 0.3); border-radius: 8px; padding: 10px;">
                                                  <div style="color: #ffd700; font-size: 0.9rem; margin-bottom: 5px; text-align: center;">4 Hours</div>
                                                  <canvas id="timeframe4h" style="width: 100%; height: 120px;"></canvas>
                                              </div>
                                              <div style="background: rgba(0, 0, 0, 0.4); border: 1px solid rgba(255, 215, 0, 0.3); border-radius: 8px; padding: 10px;">
                                                  <div style="color: #ffd700; font-size: 0.9rem; margin-bottom: 5px; text-align: center;">1 Day</div>
                                                  <canvas id="timeframe1d" style="width: 100%; height: 120px;"></canvas>
                                              </div>
                                              <div style="background: rgba(0, 0, 0, 0.4); border: 1px solid rgba(255, 215, 0, 0.3); border-radius: 8px; padding: 10px;">
                                                  <div style="color: #ffd700; font-size: 0.9rem; margin-bottom: 5px; text-align: center;">1 Week</div>
                                                  <canvas id="timeframe1w" style="width: 100%; height: 120px;"></canvas>
                                              </div>
                                          </div>
                                      </div>
                                      
                                      <div style="margin-bottom: 15px; display: flex; gap: 10px; flex-wrap: wrap; align-items: center;">
                                          <label style="color: #ffffff; font-size: 0.95rem; margin-right: 10px;">Time Range:</label>
                                          <button class="time-range-btn" data-range="30m" onclick="changeTimeRange('30m')" style="padding: 8px 15px; background: rgba(255, 0, 0, 0.3); border: 1px solid rgba(255, 0, 0, 0.5); border-radius: 5px; color: #ffffff; cursor: pointer; font-size: 0.9rem;">30 min</button>
                                          <button class="time-range-btn" data-range="2h" onclick="changeTimeRange('2h')" style="padding: 8px 15px; background: rgba(255, 0, 0, 0.3); border: 1px solid rgba(255, 0, 0, 0.5); border-radius: 5px; color: #ffffff; cursor: pointer; font-size: 0.9rem;">2 hours</button>
                                          <button class="time-range-btn" data-range="8h" onclick="changeTimeRange('8h')" style="padding: 8px 15px; background: rgba(255, 0, 0, 0.3); border: 1px solid rgba(255, 0, 0, 0.5); border-radius: 5px; color: #ffffff; cursor: pointer; font-size: 0.9rem;">8 hours</button>
                                          <button class="time-range-btn active" data-range="2d" onclick="changeTimeRange('2d')" style="padding: 8px 15px; background: rgba(255, 0, 0, 0.5); border: 2px solid #ff0000; border-radius: 5px; color: #ffffff; cursor: pointer; font-size: 0.9rem; font-weight: bold;">2 days</button>
                                      </div>
                                      <div style="position: relative; overflow-x: auto; overflow-y: hidden;">
                                          <canvas id="portfolioGraph" style="max-height: 400px; min-width: 600px;"></canvas>
                                      </div>
                                      <div id="graphScrollContainer" style="margin-top: 10px; display: none;">
                                          <input type="range" id="graphScrollSlider" min="0" max="100" value="0" 
                                                 style="width: 100%; height: 8px; background: rgba(255, 0, 0, 0.2); border-radius: 5px; outline: none; cursor: pointer;"
                                                 oninput="scrollGraph(this.value)">
                                          <div style="display: flex; justify-content: space-between; color: #cccccc; font-size: 0.85em; margin-top: 5px;">
                                              <span id="scrollStart">Start</span>
                                              <span id="scrollEnd">End</span>
                                          </div>
                                      </div>
                                  </div>
                                   <div id="leaderboardContent">
                                      <p style="color: #cccccc; text-align: center; padding: 20px;">Save your portfolio to start tracking its performance!</p>
                                   </div>
                                   
                                   <!-- Portfolio Share Card -->
                                   <div class="portfolio-share-section" style="
                                       margin-top: 30px;
                                       padding: 25px;
                                       background: linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, rgba(255, 200, 0, 0.15) 100%);
                                       border: 2px solid rgba(255, 215, 0, 0.4);
                                       border-radius: 15px;
                                       box-shadow: 0 0 25px rgba(255, 215, 0, 0.2);
                                   ">
                                       <h4 style="color: #ffd700; margin-bottom: 20px; font-size: 1.3rem; text-align: center;">ðŸ“± Share Your Portfolio</h4>
                                       <div id="shareCardPreview" style="
                                           background: rgba(0, 0, 0, 0.6);
                                           border: 2px solid rgba(255, 215, 0, 0.3);
                                           border-radius: 12px;
                                           padding: 20px;
                                           margin-bottom: 20px;
                                           text-align: center;
                                           min-height: 200px;
                                           display: flex;
                                           flex-direction: column;
                                           justify-content: center;
                                           align-items: center;
                                       ">
                                           <div style="color: #ffffff; font-size: 1.1rem; margin-bottom: 10px;">Create a portfolio to generate share card</div>
                                       </div>
                                       <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                                           <button onclick="generateShareCard()" class="btn btn-red" style="padding: 12px 25px; font-size: 1rem;">Generate Share Card</button>
                                           <button onclick="downloadShareCard()" id="downloadShareBtn" class="btn btn-red" style="padding: 12px 25px; font-size: 1rem; display: none;">Download Image</button>
                                           <button onclick="shareToSocial()" id="shareSocialBtn" class="btn btn-red" style="padding: 12px 25px; font-size: 1rem; display: none;">Share to Social</button>
                                       </div>
                                       <div id="shareQRCode" style="margin-top: 20px; text-align: center; display: none;">
                                           <div style="color: #ffffff; margin-bottom: 10px; font-size: 0.9rem;">Scan QR Code to view portfolio:</div>
                                           <canvas id="qrCanvas" style="background: #ffffff; padding: 10px; border-radius: 8px;"></canvas>
                                       </div>
                                   </div>
                               </div>
                           </div>
                       </div>
                   </div>

                   <!-- Module B: Personalized Mentor Panel -->
                   <div class="drawer-container">
                       <div class="drawer" id="drawerB">
                           <div class="drawer-header" onclick="toggleDrawerWithInit('drawerB')">
                               <h2>B. Personalized Crypto Mentor Panel <span style="background: rgba(255, 0, 0, 0.3); padding: 5px 15px; border-radius: 20px; font-size: 0.9rem; margin-left: 15px; color: #ff6666;">PAID</span> <span id="paymentStatus" style="display: none; width: 12px; height: 12px; background: #ff0000; border-radius: 50%; margin-left: 10px; animation: pulseGlow 2s infinite;"></span></h2>
                               <span class="drawer-icon">â–¼</span>
                           </div>
                           <div class="drawer-content">
                               <h3 style="color: #ffffff; margin-bottom: 20px;">Dynamic interface that adapts to your profile</h3>
                               
                               <div class="profile-section">
                                   <h4>Profile Settings</h4>
                                   <div class="form-group">
                                       <label>Experience Level:</label>
                                       <select id="experienceLevel" onchange="updateAdvice()">
                                           <option value="beginner">Beginner</option>
                                           <option value="intermediate">Intermediate</option>
                                           <option value="expert">Expert</option>
                                       </select>
                                   </div>
                                   <div class="form-group">
                                       <label>Risk Level: <span id="riskValue">50%</span></label>
                                       <input type="range" id="riskLevel" min="0" max="100" value="50" oninput="updateRiskDisplay(); updateAdvice();">
                                   </div>
                                   <div class="form-group">
                                       <label>Goal:</label>
                                       <select id="goal" onchange="updateAdvice()">
                                           <option value="short">Short-term Profit</option>
                                           <option value="long">Long-term Growth</option>
                                       </select>
                                   </div>
                                   <button class="btn btn-black" onclick="updateAdvice()">Apply Settings</button>
                               </div>

                               <div class="daily-advice">
                                   <h4>Your Personal Advice for Today</h4>
                                   <div class="advice-text" id="adviceContent">
                                       Configure your profile to get personalized advice
                                   </div>
                               </div>

                               <div class="mood-section">
                                   <h4>Mood Check</h4>
                                   <div class="form-group">
                                       <label>Describe your current mood:</label>
                                       <textarea id="moodText" rows="4" placeholder="For example: feeling cautious due to market volatility..."></textarea>
                                   </div>
                                   <button class="btn btn-red" onclick="analyzeMood()">AI Mood Analysis</button>
                                   <div id="moodResult" class="mood-result" style="display: none;"></div>
                               </div>
                           </div>
                       </div>
                   </div>

                   <!-- Module C: Crypto Experiment Lab -->
                   <div class="drawer-container">
                       <div class="drawer" id="drawerC">
                           <div class="drawer-header" onclick="toggleDrawerWithInit('drawerC')">
                               <h2>C. Crypto Experiment Lab <span style="background: rgba(255, 0, 0, 0.3); padding: 5px 15px; border-radius: 20px; font-size: 0.9rem; margin-left: 15px; color: #ff6666;">PAID</span></h2>
                               <span class="drawer-icon">â–¼</span>
                           </div>
                           <div class="drawer-content">
                               <h3 style="color: #ffffff; margin-bottom: 20px;">Interactive zone for testing hypotheses and experimenting with cryptocurrency strategies</h3>
                               
                               <div class="section-box">
                                   <h4>Create New Experiment</h4>
                                   <div class="form-group">
                                       <label>Your Deposit ($):</label>
                                       <input type="number" id="userDeposit" placeholder="e.g.: 10000" min="0" step="100" value="10000" style="width: 100%;">
                                       <small style="color: #888;">Enter your starting capital</small>
                                   </div>
                                   <div class="form-group">
                                       <label>Experiment Name:</label>
                                       <input type="text" id="experimentName" placeholder="e.g.: BTC drop scenario 20%">
                                   </div>
                                   <div class="form-group">
                                       <label>Select Coin:</label>
                                       <select id="experimentCoin">
                                           <option value="BTC">Bitcoin (BTC)</option>
                                           <option value="ETH">Ethereum (ETH)</option>
                                           <option value="BNB">Binance Coin (BNB)</option>
                                           <option value="SOL">Solana (SOL)</option>
                                           <option value="ADA">Cardano (ADA)</option>
                                           <option value="XRP">Ripple (XRP)</option>
                                           <option value="ENA">Ethena (ENA)</option>
                                           <option value="FARTCOIN">Fartcoin (FARTCOIN)</option>
                                           <option value="PEPE">Pepe (PEPE)</option>
                                           <option value="AVAX">Avalanche (AVAX)</option>
                                           <option value="NEAR">NEAR Protocol (NEAR)</option>
                                           <option value="ONDO">Ondo (ONDO)</option>
                                           <option value="WLD">Worldcoin (WLD)</option>
                                           <option value="ARB">Arbitrum (ARB)</option>
                                           <option value="APT">Aptos (APT)</option>
                                           <option value="LDO">Lido DAO (LDO)</option>
                                           <option value="VIRTAUL">Virtual (VIRTAUL)</option>
                                           <option value="UNI">Uniswap (UNI)</option>
                                           <option value="SBIB1000">Shiba 1000 (SBIB1000)</option>
                                           <option value="WLFI">Wifi (WLFI)</option>
                                           <option value="IJU">Iju (IJU)</option>
                                           <option value="SOMI">Somi (SOMI)</option>
                                           <option value="IP">IP Coin (IP)</option>
                                           <option value="APE">ApeCoin (APE)</option>
                                           <option value="DOGE">Dogecoin (DOGE)</option>
                                           <option value="SUI">Sui (SUI)</option>
                                   <option value="WIF">dogwifhat (WIF)</option>
                                   <option value="AAVE">Aave (AAVE)</option>
                                   <option value="PENGU">Pudgy Penguins (PENGU)</option>
                                   <option value="SEI">Sei (SEI)</option>
                                   <option value="GALA">Gala (GALA)</option>
                                   <option value="TON">Toncoin (TON)</option>
                                   <option value="MYX">Myx (MYX)</option>
                                   <option value="ATOM">Cosmos (ATOM)</option>
                                       </select>
                                   </div>
                                   <div class="form-group" style="background: rgba(255, 165, 0, 0.1); padding: 15px; border-radius: 8px; border: 1px solid rgba(255, 165, 0, 0.3);">
                                       <label style="margin-bottom: 10px;">ðŸ¤– Strategy Generator from Text:</label>
                                       <textarea id="strategyText" rows="3" placeholder="e.g.: If BTC drops 30%, I want to sell half, wait for -50% and buy back" style="width: 100%; margin-bottom: 10px;"></textarea>
                                       <button class="btn btn-black" style="padding: 8px 15px; font-size: 0.9rem; margin-top: 0;" onclick="generateStrategyFromText()">Convert to Strategy</button>
                                       <div id="generatedStrategyResult" style="margin-top: 10px; font-size: 0.9rem;"></div>
                                   </div>
                                   <div class="form-group">
                                       <label>Scenario Description:</label>
                                       <textarea id="experimentScenario" rows="3" placeholder="e.g.: What if BTC drops 20%? How will this affect my portfolio?"></textarea>
                                   </div>
                                   <div class="form-group" style="background: rgba(255, 0, 0, 0.1); padding: 15px; border-radius: 8px; border: 1px solid rgba(255, 0, 0, 0.3);">
                                       <label style="margin-bottom: 10px;">ðŸ¤– AI Scenario Generator:</label>
                                       <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                                           <button class="btn btn-black" style="padding: 8px 15px; font-size: 0.9rem; margin-top: 0;" onclick="loadAIScenario('bearish')">CRASH -50% (Hardcore)</button>
                                           <button class="btn btn-black" style="padding: 8px 15px; font-size: 0.9rem; margin-top: 0;" onclick="loadAIScenario('altcrash')">BULLRUN +150%</button>
                                           <button class="btn btn-black" style="padding: 8px 15px; font-size: 0.9rem; margin-top: 0;" onclick="loadAIScenario('regulatory')">Regulatory Shock -35%</button>
                                       </div>
                                       <small style="color: #888; margin-top: 10px; display: block;">ðŸ’¡ AI will create a detailed strategy with specific numbers and actions</small>
                                   </div>
                                   <div class="form-group">
                                       <label>Price Change (%): <span id="priceChangeValue">0%</span></label>
                                       <input type="range" id="priceChange" min="-70" max="200" value="0" oninput="updatePriceChangeDisplay(); updateCorrelations()">
                                   </div>
                                   <div class="form-group" style="background: rgba(0, 255, 0, 0.1); padding: 15px; border-radius: 8px; border: 1px solid rgba(0, 255, 0, 0.3);">
                                       <label style="margin-bottom: 10px;">
                                           <input type="checkbox" id="correlationsEnabled" onchange="updateCorrelations()" style="margin-right: 10px;">
                                           Smart Correlations (auto-fill)
                                       </label>
                                       <div id="correlationsSuggestions" style="margin-top: 10px; font-size: 0.9rem; color: #888;"></div>
                                   </div>
                                   <button class="btn btn-red" onclick="runExperiment()">Run Experiment</button>
                                   <button class="btn btn-red" onclick="startSurvivalMode()" style="background: linear-gradient(135deg, #ff3333, #cc0000); margin-top: 10px; width: 100%;">ðŸ”¥ SURVIVAL MODE</button>
                               </div>

                               <div class="section-box" id="survivalModeBox" style="display: none;">
                                   <h4>ðŸ”¥ SURVIVAL MODE</h4>
                                   <div id="survivalTimer" style="font-size: 3rem; text-align: center; color: #ff0000; margin: 20px 0;"></div>
                                   <div id="survivalEvent" style="background: rgba(255, 0, 0, 0.3); padding: 20px; border-radius: 8px; margin-bottom: 20px; text-align: center;"></div>
                                   <div id="survivalActions" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; max-width: 600px; margin: 0 auto;">
                                       <button class="btn btn-red" onclick="survivalAction('sell30')" style="background: linear-gradient(135deg, #00ff00, #00cc00);">[1] [1] Sell 30% BTC</button>
                                       <button class="btn btn-red" onclick="survivalAction('buydip')" style="background: linear-gradient(135deg, #ff0000, #cc0000);">[2] [2] Buy SOL dip</button>
                                       <button class="btn btn-red" onclick="survivalAction('donothing')" style="background: linear-gradient(135deg, #ffa500, #ff8000);">[3] [3] Do nothing</button>
                                       <button class="btn btn-red" onclick="survivalAction('panicsell')" style="background: linear-gradient(135deg, #000000, #330000);">[4] [4] Panic sell everything</button>
                                   </div>
                                   <div id="survivalResult" style="margin-top: 20px;"></div>
                               </div>

                               <div class="section-box" id="experimentResults" style="display: none;">
                                   <h4>ðŸ”´ Live Result with AI Advice</h4>
                                   <div class="result-box" id="experimentAnalysis"></div>
                                   <div class="result-box" id="aiAdviceBox" style="background: rgba(255, 165, 0, 0.2); border-color: #ffa500; margin-top: 15px;"></div>
                                   <div class="chart-container" id="experimentChart">Graphic visualization will appear here</div>
                                   <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-top: 15px;">
                                       <button class="btn btn-black" onclick="saveExperiment()">Save to Archive</button>
                                       <button class="btn btn-black" onclick="shareExperiment()">Share</button>
                                       <button class="btn btn-black" onclick="createBotStrategy()">Create Bot</button>
                                   </div>
                               </div>

                               <div class="section-box">
                                   <h4>Your Experiment Archive</h4>
                                   <div class="section-title">Saved Experiments</div>
                                   <div id="experimentArchive"></div>
                               </div>
                           </div>
                       </div>
                   </div>

                   <!-- Module D: Individual Strategy Constructor -->
                   <div class="drawer-container">
                       <div class="drawer" id="drawerD">
                           <div class="drawer-header" onclick="toggleDrawerWithInit('drawerD')">
                               <h2>D. Individual Strategy Builder <span style="background: rgba(255, 0, 0, 0.3); padding: 5px 15px; border-radius: 20px; font-size: 0.9rem; margin-left: 15px; color: #ff6666;">PAID</span></h2>
                               <span class="drawer-icon">â–¼</span>
                           </div>
                           <div class="drawer-content">
                               <h3 style="color: #ffffff; margin-bottom: 20px;">Step-by-step tool for creating personalized trading/investment strategies</h3>
                               
                               <div class="section-box">
                                   <h4>Strategy Setup</h4>
                                   <div class="form-group">
                                       <label>Preferred Assets (select multiple):</label>
                                       <select id="preferredAssets" multiple style="height: 250px;">
                                           <option value="BTC">Bitcoin (BTC)</option>
                                           <option value="ETH">Ethereum (ETH)</option>
                                           <option value="BNB">Binance Coin (BNB)</option>
                                           <option value="SOL">Solana (SOL)</option>
                                           <option value="ADA">Cardano (ADA)</option>
                                           <option value="XRP">Ripple (XRP)</option>
                                           <option value="ENA">Ethena (ENA)</option>
                                           <option value="FARTCOIN">Fartcoin (FARTCOIN)</option>
                                           <option value="PEPE">Pepe (PEPE)</option>
                                           <option value="AVAX">Avalanche (AVAX)</option>
                                           <option value="NEAR">NEAR Protocol (NEAR)</option>
                                           <option value="ONDO">Ondo (ONDO)</option>
                                           <option value="WLD">Worldcoin (WLD)</option>
                                           <option value="ARB">Arbitrum (ARB)</option>
                                           <option value="APT">Aptos (APT)</option>
                                           <option value="LDO">Lido DAO (LDO)</option>
                                           <option value="VIRTAUL">Virtual (VIRTAUL)</option>
                                           <option value="UNI">Uniswap (UNI)</option>
                                           <option value="BIB1000">Shiba 1000 (BIB1000)</option>
                                           <option value="WLFI">Wifi (WLFI)</option>
                                           <option value="IJU">Iju (IJU)</option>
                                           <option value="SOMI">Somi (SOMI)</option>
                                           <option value="IP">IP Coin (IP)</option>
                                           <option value="APE">ApeCoin (APE)</option>
                                           <option value="DOGE">Dogecoin (DOGE)</option>
                                           <option value="SUI">Sui (SUI)</option>
                                           <option value="WIF">dogwifhat (WIF)</option>
                                           <option value="AAVE">Aave (AAVE)</option>
                                           <option value="PENGU">Pudgy Penguins (PENGU)</option>
                                           <option value="SEI">Sei (SEI)</option>
                                           <option value="GALA">Gala (GALA)</option>
                                           <option value="TON">Toncoin (TON)</option>
                                           <option value="MYX">Myx (MYX)</option>
                                           <option value="ATOM">Cosmos (ATOM)</option>
                                       </select>
                                       <small style="color: #888;">Hold Ctrl/Cmd to select multiple</small>
                                   </div>
                                   <div class="form-group">
                                       <label>Time Horizon:</label>
                                       <select id="timeHorizon">
                                           <option value="days">Days (Short-term)</option>
                                           <option value="weeks">Weeks (Medium-term)</option>
                                           <option value="months">Months (Long-term)</option>
                                           <option value="years">Years (Very long-term)</option>
                                       </select>
                                   </div>
                                   <div class="form-group">
                                       <label>Risk Appetite: <span id="riskAppetiteValue">50%</span></label>
                                       <input type="range" id="riskAppetite" min="0" max="100" value="50" oninput="updateRiskAppetiteDisplay()">
                                   </div>
                                   <button class="btn btn-red" onclick="generateStrategies()">Generate Strategies</button>
                               </div>

                               <div class="section-box" id="strategiesResult" style="display: none;">
                                   <h4>Your Personalized Strategies</h4>
                                   <div id="strategiesList"></div>
                                   <div style="margin-top: 20px;">
                                       <button class="btn btn-black" onclick="testStressScenario()">Strategy Stress Test (Market Crash)</button>
                                       <div id="stressTestResult" style="display: none; margin-top: 15px;" class="result-box"></div>
                                   </div>
                               </div>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
       </div>
   </div>
   
   <!-- Chat Widget - Ð’Ð¡Ð•Ð“Ð”Ð Ð’ ÐŸÐ ÐÐ’ÐžÐœ ÐÐ˜Ð–ÐÐ•Ðœ Ð£Ð“Ð›Ð£ Ð­ÐšÐ ÐÐÐ -->
   <!-- Chat Widget - Ð’Ð¡Ð•Ð“Ð”Ð Ð’ ÐŸÐ ÐÐ’ÐžÐœ ÐÐ˜Ð–ÐÐ•Ðœ Ð£Ð“Ð›Ð£ Ð­ÐšÐ ÐÐÐ, Ð’ÐÐ• .page, ÐÐ Ð£Ð ÐžÐ’ÐÐ• body -->
   <div class="chat-widget" id="chatWidget" style="position: fixed !important; bottom: 20px !important; right: 20px !important; top: auto !important; left: auto !important; z-index: 2147483647 !important; display: block !important; visibility: visible !important; opacity: 1 !important; pointer-events: auto !important; margin: 0 !important; padding: 0 !important; transform: none !important; width: auto !important; height: auto !important;">
       <button class="chat-button" id="chatButton" aria-label="Open chat" style="display: flex !important; visibility: visible !important; opacity: 1 !important; position: relative !important; width: 62px !important; height: 62px !important; border-radius: 50% !important; background: linear-gradient(135deg, #2a2a2a 0%, #1a1a1a 100%) !important; border: 2px solid #3a3a3a !important; cursor: pointer !important; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.6) !important; align-items: center !important; justify-content: center !important; pointer-events: auto !important; margin: 0 !important; padding: 0 !important;">
           <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" style="width: 31px !important; height: 31px !important; fill: #FFFFFF !important; display: block !important;">
               <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"/>
           </svg>
       </button>
       <div class="chat-container" id="chatContainer" aria-live="polite">
           <div class="chat-header">
               <h3>
                   <span class="status-dot" aria-hidden="true"></span>
                   Crypto AI Assistant
               </h3>
               <button class="close-chat" id="closeChat" aria-label="Close chat">&times;</button>
           </div>
           <div class="chat-subscription-section" id="subscriptionSection">
               <div class="chat-timer-display" id="timerDisplay">24:00</div>
           </div>
           <div class="chat-expired-overlay hidden" id="chatExpiredOverlay">
               <div class="chat-expired-content">
                   <p class="chat-expired-text">Subscribe to continue using this amazing bot for $10/month</p>
                   <div class="payment-method-buttons">
                       <button class="chat-expired-btn payment-method-btn" data-method="crypto" type="button" data-original-text="ðŸ’³ Pay with Crypto (USDT)">
                           ðŸ’³ Pay with Crypto (USDT)
                       </button>
                       <button class="chat-expired-btn payment-method-btn" data-method="card" type="button" data-original-text="ðŸ’³ Pay with Card (Visa/Mastercard)">
                           ðŸ’³ Pay with Card (Visa/Mastercard)
                       </button>
                   </div>
               </div>
           </div>
           <div class="chat-messages" id="chatMessages">
               <div class="message bot">
                   <div class="message-avatar" aria-hidden="true">ðŸ‡ºðŸ‡¸</div>
                   <div class="message-content">
                       Hey! I'm your Crypto AI Assistant powered by Mistral AI ðŸš€ I understand all crypto terms, slang, and even "dumb" questions! Ask me anything about Bitcoin, DeFi, NFTs, trading, security, or crypto culture (HODL, FOMO, FUD, moon, lambo, degen, WAGMI)!
                       <div class="quick-questions">
                           <button class="quick-question-btn" data-question="What is HODL?">What is HODL?</button>
                           <button class="quick-question-btn" data-question="Explain DeFi">Explain DeFi</button>
                           <button class="quick-question-btn" data-question="What is a whale?">What is a whale?</button>
                           <button class="quick-question-btn" data-question="Wen moon?">Wen moon? ðŸš€</button>
                           <button class="quick-question-btn" data-question="What are rug pulls?">Rug pulls?</button>
                       </div>
                   </div>
               </div>
           </div>
           <div class="chat-input-container">
               <div class="chat-input-wrapper">
                   <input type="text" class="chat-input" id="chatInput" placeholder="Ask about crypto..." autocomplete="off">
                   <button class="send-button" id="sendButton" aria-label="Send message">
                       <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                           <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                       </svg>
                   </button>
               </div>
           </div>
       </div>
   </div>
   
   <script src="../../scripts/chatbot.js?v=31"></script>
   
   <!-- Ð˜Ð½Ñ‚ÐµÑ€Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ ÑÑ„Ñ„ÐµÐºÑ‚Ñ‹ Ð´Ð»Ñ Ñ‚ÐµÐºÑÑ‚Ð° Ñ ÑÑ„Ñ„ÐµÐºÑ‚Ð¾Ð¼ Ð¿Ñ€Ð¾ÐºÐ°Ñ‡ÐºÐ¸ -->
   <script>
       (function() {
           'use strict';
           
           // ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ñ: Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ requestAnimationFrame Ð´Ð»Ñ Ð¿Ð»Ð°Ð²Ð½Ð¾ÑÑ‚Ð¸
           let animationFrameId = null;
           
           // Ð–Ð´ÐµÐ¼ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ DOM
           if (document.readyState === 'loading') {
               document.addEventListener('DOMContentLoaded', initTextEffects);
           } else {
               initTextEffects();
           }
           
           function initTextEffects() {
               const introText = document.querySelector('.intro-text');
               const textBlock = document.querySelector('.crypto-text-block');
               if (!introText || !textBlock) return;
               
               // ÐÐ½Ð¸Ð¼Ð°Ñ†Ð¸Ñ Ð¿Ð¾ÑÐ²Ð»ÐµÐ½Ð¸Ñ ÑÐ»Ð¾Ð² Ñ Ð·Ð°Ð´ÐµÑ€Ð¶ÐºÐ¾Ð¹ (Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾)
               const highlights = introText.querySelectorAll('.highlight');
               highlights.forEach((highlight, index) => {
                   // Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ CSS Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð´Ð»Ñ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ð¸
                   highlight.style.setProperty('--delay', `${0.5 + index * 0.2}s`);
                   highlight.style.opacity = '0';
                   highlight.style.transform = 'translateY(10px) translateZ(0)';
                   
                   // Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ requestAnimationFrame Ð´Ð»Ñ Ð¿Ð»Ð°Ð²Ð½Ð¾ÑÑ‚Ð¸
                   requestAnimationFrame(() => {
                       setTimeout(() => {
                           highlight.style.transition = 'opacity 0.6s ease-out, transform 0.6s ease-out';
                           highlight.style.opacity = '1';
                           highlight.style.transform = 'translateY(0) translateZ(0)';
                       }, 500 + index * 200);
                   });
               });
               
               // Ð­Ñ„Ñ„ÐµÐºÑ‚ Ð¿Ñ€Ð¸ Ð½Ð°Ð²ÐµÐ´ÐµÐ½Ð¸Ð¸ Ð½Ð° Ð²ÐµÑÑŒ Ð±Ð»Ð¾Ðº (Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾)
               let hoverTimeout = null;
               textBlock.addEventListener('mouseenter', function() {
                   if (hoverTimeout) cancelAnimationFrame(hoverTimeout);
                   hoverTimeout = requestAnimationFrame(() => {
                       this.style.transition = 'transform 0.3s ease, box-shadow 0.3s ease';
                       this.style.transform = 'translateY(-5px) translateZ(0)';
                       this.style.boxShadow = '0 10px 40px rgba(202, 0, 0, 0.3), 0 0 60px rgba(202, 0, 0, 0.2)';
                   });
               });
               
               textBlock.addEventListener('mouseleave', function() {
                   if (hoverTimeout) cancelAnimationFrame(hoverTimeout);
                   hoverTimeout = requestAnimationFrame(() => {
                       this.style.transform = 'translateY(0) translateZ(0)';
                       this.style.boxShadow = '0 0 30px rgba(202, 0, 0, 0.2), inset 0 0 50px rgba(202, 0, 0, 0.05)';
                   });
               });
               
               // ÐŸÐ»Ð°Ð²Ð½Ð¾Ðµ Ð¿Ð¾ÑÐ²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¸ Ð¿Ñ€Ð¾ÐºÑ€ÑƒÑ‚ÐºÐµ (Intersection Observer - Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾)
               const observerOptions = {
                   threshold: 0.1,
                   rootMargin: '0px 0px -50px 0px'
               };
               
               const observer = new IntersectionObserver(function(entries) {
                   entries.forEach(entry => {
                       if (entry.isIntersecting) {
                           requestAnimationFrame(() => {
                               entry.target.style.opacity = '1';
                               entry.target.style.transform = 'translateY(0) translateZ(0)';
                           });
                       }
                   });
               }, observerOptions);
               
               observer.observe(introText);
               
               // Ð­Ñ„Ñ„ÐµÐºÑ‚ "Ð¿Ñ€Ð¾ÐºÐ°Ñ‡ÐºÐ¸ Ð½Ð°Ð²Ñ‹ÐºÐ¾Ð²" - Ð¿ÐµÑ€Ð¸Ð¾Ð´Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ (Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾)
               let skillUpdateInterval = null;
               function updateSkills() {
                   if (skillUpdateInterval) return; // ÐŸÑ€ÐµÐ´Ð¾Ñ‚Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼ Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ðµ Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»Ñ‹
                   
                   skillUpdateInterval = setInterval(() => {
                       requestAnimationFrame(() => {
                           const randomHighlight = highlights[Math.floor(Math.random() * highlights.length)];
                           if (randomHighlight) {
                               // Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ ÐºÐ»Ð°ÑÑ Ð´Ð»Ñ ÑÑ„Ñ„ÐµÐºÑ‚Ð° Ð¿Ñ€Ð¾ÐºÐ°Ñ‡ÐºÐ¸
                               randomHighlight.classList.add('skill-level-up');
                               setTimeout(() => {
                                   randomHighlight.classList.remove('skill-level-up');
                               }, 1000);
                           }
                       });
                   }, 6000); // ÐšÐ°Ð¶Ð´Ñ‹Ðµ 6 ÑÐµÐºÑƒÐ½Ð´
               }
               
               // Ð—Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼ ÑÑ„Ñ„ÐµÐºÑ‚ Ð¿Ñ€Ð¾ÐºÐ°Ñ‡ÐºÐ¸ Ð¿Ð¾ÑÐ»Ðµ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸
               setTimeout(updateSkills, 2000);
               
               // Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð¾Ð¿Ñ‹Ñ‚Ð° Ð¸ ÑƒÑ€Ð¾Ð²Ð½Ñ Ð½Ð°Ð²Ñ‹ÐºÐ°
               let experiencePoints = parseInt(localStorage.getItem('cryptoCoachXP') || '0');
               
               // ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÑƒÑ€Ð¾Ð²Ð½Ñ Ð½Ð°Ð²Ñ‹ÐºÐ°
               function updateSkillLevel() {
                   const levelFill = document.getElementById('skillLevelFill');
                   const levelText = document.getElementById('skillLevelText');
                   
                   if (!levelFill || !levelText) return;
                   
                   // Ð’Ñ‹Ñ‡Ð¸ÑÐ»ÑÐµÐ¼ ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ Ð¾Ð¿Ñ‹Ñ‚Ð°
                   const level = Math.floor(experiencePoints / 100) + 1;
                   const levelProgress = (experiencePoints % 100);
                   const levelNames = ['Beginner', 'Novice', 'Intermediate', 'Advanced', 'Expert', 'Master', 'Legend'];
                   const levelName = levelNames[Math.min(level - 1, levelNames.length - 1)] || 'Beginner';
                   
                   levelFill.style.width = levelProgress + '%';
                   levelText.textContent = `Level ${level} - ${levelName}`;
               }
               
               // ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº ÐºÐ»Ð¸ÐºÐ° Ð½Ð° ÐºÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ ÑÐ»Ð¾Ð²Ð° Ð´Ð»Ñ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð¾Ð¿Ñ‹Ñ‚Ð°
               highlights.forEach(highlight => {
                   if (highlight.dataset.skill) {
                       highlight.addEventListener('click', function() {
                           // Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð¾Ð¿Ñ‹Ñ‚
                           experiencePoints += 10;
                           localStorage.setItem('cryptoCoachXP', experiencePoints);
                           
                           // ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÐ¼ ÑÑ„Ñ„ÐµÐºÑ‚ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð¾Ð¿Ñ‹Ñ‚Ð°
                           this.classList.add('xp-gained');
                           setTimeout(() => {
                               this.classList.remove('xp-gained');
                           }, 1000);
                           
                           // ÐžÐ±Ð½Ð¾Ð²Ð»ÑÐµÐ¼ ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ Ð½Ð°Ð²Ñ‹ÐºÐ°
                           updateSkillLevel();
                           
                           // Ð­Ñ„Ñ„ÐµÐºÑ‚ Ð¿Ñ€Ð¾ÐºÐ°Ñ‡ÐºÐ¸
                           this.classList.add('skill-level-up');
                           setTimeout(() => {
                               this.classList.remove('skill-level-up');
                           }, 1000);
                       });
                   }
               });
               
               // Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ ÑƒÑ€Ð¾Ð²Ð½Ñ Ð½Ð°Ð²Ñ‹ÐºÐ°
               setTimeout(updateSkillLevel, 500);
               
               // ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ ÑƒÐ²ÐµÐ»Ð¸Ñ‡ÐµÐ½Ð¸Ðµ Ð¾Ð¿Ñ‹Ñ‚Ð° Ð¿Ñ€Ð¸ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¸ ÑÐ¾ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†ÐµÐ¹
               let interactionCount = 0;
               document.addEventListener('click', function() {
                   interactionCount++;
                   if (interactionCount % 5 === 0) {
                       experiencePoints += 1;
                       localStorage.setItem('cryptoCoachXP', experiencePoints);
                       updateSkillLevel();
                   }
               }, { passive: true });
               
               // ÐžÑ‡Ð¸ÑÑ‚ÐºÐ° Ð¿Ñ€Ð¸ Ñ€Ð°Ð·Ð¼Ð¾Ð½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¸ (Ð¿Ñ€ÐµÐ´Ð¾Ñ‚Ð²Ñ€Ð°Ñ‰ÐµÐ½Ð¸Ðµ ÑƒÑ‚ÐµÑ‡ÐµÐº Ð¿Ð°Ð¼ÑÑ‚Ð¸)
               window.addEventListener('beforeunload', function() {
                   if (skillUpdateInterval) clearInterval(skillUpdateInterval);
                   if (hoverTimeout) cancelAnimationFrame(hoverTimeout);
                   observer.disconnect();
               });
               
           }
       })();
   </script>
   
   <!-- Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð´Ð»Ñ Ð“ÐÐ ÐÐÐ¢Ð˜Ð˜ Ð²Ð¸Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸ Ñ‡Ð°Ñ‚Ð° -->
   <script>
       (function() {
           function forceChatPosition() {
               const chatWidget = document.getElementById('chatWidget');
               if (!chatWidget) {
                   console.warn('Chat widget not found!');
                   return;
               }
               
               // ÐšÐ Ð˜Ð¢Ð˜Ð§ÐÐž: ÐŸÐµÑ€ÐµÐ¼ÐµÑ‰Ð°ÐµÐ¼ Ñ‡Ð°Ñ‚ Ð² body, ÐµÑÐ»Ð¸ Ð¾Ð½ Ð½Ðµ Ñ‚Ð°Ð¼
               if (chatWidget.parentElement !== document.body) {
                   console.log('Moving chat to body from:', chatWidget.parentElement?.tagName);
                   document.body.appendChild(chatWidget);
               }
               
               // ÐŸÐ Ð˜ÐÐ£Ð”Ð˜Ð¢Ð•Ð›Ð¬ÐÐž ÑƒÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Ð²ÑÐµ ÑÑ‚Ð¸Ð»Ð¸
               chatWidget.style.setProperty('position', 'fixed', 'important');
               chatWidget.style.setProperty('bottom', '20px', 'important');
               chatWidget.style.setProperty('right', '20px', 'important');
               chatWidget.style.setProperty('top', 'auto', 'important');
               chatWidget.style.setProperty('left', 'auto', 'important');
               chatWidget.style.setProperty('z-index', '2147483647', 'important');
               chatWidget.style.setProperty('display', 'block', 'important');
               chatWidget.style.setProperty('visibility', 'visible', 'important');
               chatWidget.style.setProperty('opacity', '1', 'important');
               chatWidget.style.setProperty('pointer-events', 'auto', 'important');
               chatWidget.style.setProperty('margin', '0', 'important');
               chatWidget.style.setProperty('padding', '0', 'important');
               chatWidget.style.setProperty('transform', 'none', 'important');
               
               // ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ computed ÑÑ‚Ð¸Ð»Ð¸
               const computed = window.getComputedStyle(chatWidget);
               if (computed.position !== 'fixed') {
                   console.error('ERROR: Position is NOT fixed!', computed.position);
                   // Ð•Ñ‰Ðµ Ñ€Ð°Ð· Ð¿Ñ€Ð¸Ð½ÑƒÐ´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾
                   chatWidget.style.position = 'fixed';
               }
               
               // ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼, Ñ‡Ñ‚Ð¾ Ñ‡Ð°Ñ‚ Ð²Ð¸Ð´ÐµÐ½
               const rect = chatWidget.getBoundingClientRect();
               const isVisible = rect.bottom <= window.innerHeight && rect.right <= window.innerWidth;
               if (!isVisible) {
                   console.warn('Chat might not be visible!', rect);
               }
           }
           
           // Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÐ¼ ÐœÐÐžÐ–Ð•Ð¡Ð¢Ð’Ðž Ñ€Ð°Ð· Ð´Ð»Ñ Ð³Ð°Ñ€Ð°Ð½Ñ‚Ð¸Ð¸
           forceChatPosition();
           
           // ÐŸÑ€Ð¸ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐµ DOM
           if (document.readyState === 'loading') {
               document.addEventListener('DOMContentLoaded', function() {
                   forceChatPosition();
                   setTimeout(forceChatPosition, 100);
                   setTimeout(forceChatPosition, 500);
               });
           } else {
               setTimeout(forceChatPosition, 100);
               setTimeout(forceChatPosition, 500);
           }
           
           // ÐŸÑ€Ð¸ Ð¿Ð¾Ð»Ð½Ð¾Ð¹ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐµ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹
           window.addEventListener('load', function() {
               forceChatPosition();
               setTimeout(forceChatPosition, 100);
           });
           
           // ÐŸÑ€Ð¸ Ð¿Ñ€Ð¾ÐºÑ€ÑƒÑ‚ÐºÐµ - ÐšÐÐ–Ð”Ð«Ð™ Ð ÐÐ—
           let scrollTimeout;
           window.addEventListener('scroll', function() {
               forceChatPosition();
               clearTimeout(scrollTimeout);
               scrollTimeout = setTimeout(forceChatPosition, 50);
           }, { passive: true });
           
           // ÐŸÑ€Ð¸ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¸ Ñ€Ð°Ð·Ð¼ÐµÑ€Ð° Ð¾ÐºÐ½Ð°
           window.addEventListener('resize', forceChatPosition);
           
           // ÐŸÐµÑ€Ð¸Ð¾Ð´Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ ÐšÐÐ–Ð”Ð«Ð• 50ms (Ñ‡Ð°Ñ‰Ðµ!)
           setInterval(forceChatPosition, 50);
           
           // MutationObserver Ð´Ð»Ñ Ð¾Ñ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ñ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹ DOM
           setTimeout(function() {
               const observer = new MutationObserver(function(mutations) {
                   forceChatPosition();
               });
               observer.observe(document.body, {
                   childList: true,
                   subtree: true,
                   attributes: true,
                   attributeFilter: ['style', 'class']
               });
               console.log('âœ… MutationObserver started for chat');
           }, 1000);
           
           console.log('âœ… Chat position force script loaded');
       })();
   </script>
</body>
</html>

