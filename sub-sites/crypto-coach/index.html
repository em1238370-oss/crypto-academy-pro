<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Crypto Coach - Crypto Academy Pro</title>
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
   <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@700&display=swap" rel="stylesheet">
   <link href="https://fonts.googleapis.com/css2?family=Telegraf:wght@700&display=swap" rel="stylesheet">
   <link href="https://fonts.cdnfonts.com/css/telegraf" rel="stylesheet">
    <link rel="stylesheet" href="styles.css?v=13.0">
   <!-- Chart.js for portfolio graphs -->
   <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
   <script src="scripts/table-modules.js" defer></script>
</head>
<body>
   <div class="page">
       <div class="content">
           <!-- –ö—Ä–∏–ø—Ç–æ-—ç–ª–µ–º–µ–Ω—Ç—ã —Ñ–æ–Ω–∞ (–∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ) -->
           <div class="crypto-elements">
               <!-- –ü–ª–∞–≤–∞—é—â–∏–µ –±–ª–æ–∫—á–µ–π–Ω-–±–ª–æ–∫–∏ -->
               <div class="blockchain-block block-1"></div>
               <div class="blockchain-block block-2"></div>
               <div class="blockchain-block block-3"></div>
               <!-- –ß–∞—Å—Ç–∏—Ü—ã –¥–∞–Ω–Ω—ã—Ö -->
               <div class="data-particle particle-1"></div>
               <div class="data-particle particle-2"></div>
               <div class="data-particle particle-3"></div>
               <div class="data-particle particle-4"></div>
               <div class="data-particle particle-5"></div>
               <!-- –°–≤–µ—Ç—è—â–∏–µ—Å—è —Ç–æ—á–∫–∏ (–Ω–æ–¥—ã —Å–µ—Ç–∏) -->
               <div class="network-node node-1"></div>
               <div class="network-node node-2"></div>
               <div class="network-node node-3"></div>
               <div class="network-node node-4"></div>
           </div>
           
           <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
           <div class="crypto-coach-container">
               <h1>Crypto Coach: HODL Hard,<br>Love Soft!</h1>
           </div>
           
           <!-- –ù–æ–≤—ã–π —Ç–µ–∫—Å—Ç -->
           <div class="crypto-text-block">
               <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —É—Ä–æ–≤–Ω—è –Ω–∞–≤—ã–∫–∞ -->
               <div class="skill-level-indicator">
                   <div class="skill-level-label">Your Crypto Skill Level</div>
                   <div class="skill-level-bar">
                       <div class="skill-level-fill" id="skillLevelFill"></div>
                       <div class="skill-level-text" id="skillLevelText">Level 1 - Beginner</div>
                   </div>
               </div>
               
               
               <div class="intro-text">
                   Welcome to <span class="highlight" data-word="coach" data-skill="coaching">Coach Crypto</span>, your gateway to mastering the exciting world of cryptocurrency! This section provides a solid foundation, equipping you with the essential knowledge to navigate the crypto space confidently. The best way to truly understand crypto is through <span class="highlight" data-word="hands-on" data-skill="practice">hands-on experience</span>‚Äîlearning by doing sticks like nothing else. <span class="highlight" data-word="coach" data-skill="coaching">Coach Crypto</span> offers the tools, insights, and guidance to experiment, practice, and grow. While we'll help you deepen your understanding and sharpen your skills, the real magic happens when you apply what you learn and discover through your own journey. This is your <span class="highlight" data-word="playground" data-skill="exploration">playground</span> to explore, make mistakes, and unlock the potential of crypto‚Äîstart here and experiment boldly!<br><br><span class="highlight warning-notice" data-word="warning">‚ö† IMPORTANT NOTICE:</span> The modules presented here are designed for training and development purposes only. Any advice, suggestions, or strategies offered are educational tools meant to enhance your understanding. October 10th proved to us all in crypto that it's impossible to calculate everything‚Äîcryptocurrency markets are unpredictable and volatile. You must evaluate all risks yourself and manage your risk accordingly. Any actions you take based on information or suggestions in these modules are entirely your own responsibility. In case of any loss, the responsibility lies solely with you. Trade at your own risk.
               </div>
           </div>
           
           <!-- –¢–∞–±–ª–∏—Ü–∞ —Å –º–æ–¥—É–ª—è–º–∏ -->
           <div class="crypto-table-block">
               <div class="modules-container">
                   <h1 class="main-title">Master Crypto with Coach Crypto: Unlock the Secrets</h1>

                   <!-- Module A: Interactive Trading Simulator -->
                   <div class="drawer-container">
                       <div class="drawer" id="drawerA">
                              <div class="drawer-header" onclick="toggleDrawerWithInit('drawerA')">
                               <h2>A. Interactive Trading Simulator 
                                   <span class="free-badge" style="
                                       background: linear-gradient(135deg, rgba(255, 215, 0, 0.8) 0%, rgba(255, 200, 0, 0.9) 100%);
                                       padding: 5px 15px;
                                       border-radius: 20px;
                                       font-size: 0.9rem;
                                       margin-left: 15px;
                                       color: #000000;
                                       font-weight: bold;
                                       text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
                                       box-shadow: 0 0 15px rgba(255, 215, 0, 0.6), inset 0 0 10px rgba(255, 255, 255, 0.3);
                                       animation: badgePulse 2s ease-in-out infinite;
                                       display: inline-block;
                                       position: relative;
                                   ">‚ú® FREE ‚ú®</span>
                               </h2>
                               <span class="drawer-icon">‚ñº</span>
                           </div>
                           <div class="drawer-content">
                               <h3 style="color: #ffffff; margin-bottom: 20px;">Virtual environment for trading practice without real money</h3>
                               
                               <div class="portfolio-section">
                                   <h3>Your Portfolio</h3>
                                  <div class="portfolio-input-wrapper">
                                      <label for="portfolioInput" style="display: block; color: #ffffff; margin-bottom: 10px; font-size: 1rem; line-height: 1.5;">Enter your portfolio value:</label>
                                      <input type="number" id="portfolioInput" class="portfolio-input" value="10000" min="1" step="0.01" placeholder="Enter amount">
                                   <div class="portfolio-value" id="portfolioValue">$10,000.00</div>
                                  </div>
                                  <div class="profit-loss" id="profitLoss" style="margin-top: 15px; line-height: 1.6;">
                                       <span id="profitLossValue">+$0.00</span> (<span id="profitLossPercent">0.00%</span>)
                                   </div>
                                   
                                   <!-- Portfolio Health Score -->
                                   <div class="portfolio-health-score" style="
                                       margin-top: 25px;
                                       padding: 20px;
                                       background: linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, rgba(255, 200, 0, 0.15) 100%);
                                       border: 2px solid rgba(255, 215, 0, 0.4);
                                       border-radius: 12px;
                                       box-shadow: 0 0 20px rgba(255, 215, 0, 0.2);
                                   ">
                                       <h4 style="color: #ffd700; margin-bottom: 15px; font-size: 1.2rem; text-align: center;">üéØ Portfolio Health Score</h4>
                                       <div style="text-align: center; margin-bottom: 15px;">
                                           <div id="healthScoreValue" style="
                                               font-size: 3rem;
                                               font-weight: bold;
                                               color: #ffd700;
                                               text-shadow: 0 0 15px rgba(255, 215, 0, 0.6);
                                               margin-bottom: 5px;
                                           ">0</div>
                                           <div id="healthScoreLabel" style="
                                               font-size: 1.1rem;
                                               color: #ffffff;
                                               font-weight: 500;
                                           ">Calculating...</div>
                                       </div>
                                       <div id="healthMetrics" style="
                                           display: grid;
                                           grid-template-columns: repeat(3, 1fr);
                                           gap: 10px;
                                           margin-top: 15px;
                                       ">
                                           <div class="health-metric" style="
                                               text-align: center;
                                               padding: 10px;
                                               background: rgba(0, 0, 0, 0.3);
                                               border-radius: 8px;
                                           ">
                                               <div style="color: #ffd700; font-size: 0.9rem; margin-bottom: 5px;">Diversification</div>
                                               <div id="diversificationScore" style="color: #ffffff; font-weight: bold;">-</div>
                                           </div>
                                           <div class="health-metric" style="
                                               text-align: center;
                                               padding: 10px;
                                               background: rgba(0, 0, 0, 0.3);
                                               border-radius: 8px;
                                           ">
                                               <div style="color: #ffd700; font-size: 0.9rem; margin-bottom: 5px;">Balance</div>
                                               <div id="balanceScore" style="color: #ffffff; font-weight: bold;">-</div>
                                           </div>
                                           <div class="health-metric" style="
                                               text-align: center;
                                               padding: 10px;
                                               background: rgba(0, 0, 0, 0.3);
                                               border-radius: 8px;
                                           ">
                                               <div style="color: #ffd700; font-size: 0.9rem; margin-bottom: 5px;">Risk Level</div>
                                               <div id="riskScore" style="color: #ffffff; font-weight: bold;">-</div>
                                           </div>
                                       </div>
                                   </div>
                               </div>

                               <!-- Live Market Heatmap -->
                               <div class="market-heatmap-section" style="margin-bottom: 30px;">
                                   <h4 style="color: #ffffff; margin-bottom: 15px; font-size: 1.3rem;">üìä Live Market Heatmap</h4>
                                   <div id="marketHeatmap" style="
                                       background: rgba(0, 0, 0, 0.5);
                                       border: 2px solid rgba(255, 215, 0, 0.3);
                                       border-radius: 12px;
                                       padding: 20px;
                                       display: grid;
                                       grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
                                       gap: 15px;
                                       max-height: 400px;
                                       overflow-y: auto;
                                   "></div>
                               </div>

                               <div class="section-title">Select Coins to Invest In</div>
                               <div class="coins-grid" id="coinsGrid"></div>

                               <div class="section-title">Selected Coins</div>
                               <div id="selectedCoinsList" class="selected-coins-list"></div>

                               <div class="ai-recommendations">
                                   <h4>AI Recommendations Based on Market Analysis</h4>
                                   <div id="recommendationsContent">
                                       <p style="color: #ffffff; font-weight: bold;">Select coins to get AI recommendations</p>
                                   </div>
                               </div>

                               <div class="leaderboard">
                                  <h4>My Portfolio Tracker</h4>
                                  <div id="portfolioSelector" style="margin-bottom: 20px;">
                                      <label for="portfolioName" style="display: block; color: #ffffff; margin-bottom: 10px; font-size: 1rem;">Portfolio Name:</label>
                                      <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                                          <input type="text" id="portfolioName" placeholder="Enter portfolio name (e.g., My Crypto Portfolio)" 
                                                 style="flex: 1; padding: 10px; background: rgba(0, 0, 0, 0.4); border: 2px solid rgba(255, 0, 0, 0.3); border-radius: 8px; color: #ffffff; font-size: 1rem;">
                                          <button class="btn btn-red" onclick="savePortfolio()" style="padding: 10px 20px;">Save Portfolio</button>
                                      </div>
                                      <select id="savedPortfolioSelect" onchange="loadPortfolioGraph(this.value)" 
                                              style="width: 100%; padding: 10px; background: rgba(0, 0, 0, 0.4); border: 2px solid rgba(255, 0, 0, 0.3); border-radius: 8px; color: #ffffff; font-size: 1rem; margin-bottom: 15px;">
                                          <option value="">Select a saved portfolio...</option>
                                      </select>
                                  </div>
                                  <div id="portfolioGraphContainer" style="display: none; margin-bottom: 20px;">
                                      <!-- Multi-Timeframe View -->
                                      <div class="multi-timeframe-section" style="margin-bottom: 20px;">
                                          <h4 style="color: #ffffff; margin-bottom: 15px; font-size: 1.2rem; text-align: center;">üìà Multi-Timeframe View</h4>
                                          <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-bottom: 15px;">
                                              <div style="background: rgba(0, 0, 0, 0.4); border: 1px solid rgba(255, 215, 0, 0.3); border-radius: 8px; padding: 10px;">
                                                  <div style="color: #ffd700; font-size: 0.9rem; margin-bottom: 5px; text-align: center;">1 Hour</div>
                                                  <canvas id="timeframe1h" style="width: 100%; height: 120px;"></canvas>
                                              </div>
                                              <div style="background: rgba(0, 0, 0, 0.4); border: 1px solid rgba(255, 215, 0, 0.3); border-radius: 8px; padding: 10px;">
                                                  <div style="color: #ffd700; font-size: 0.9rem; margin-bottom: 5px; text-align: center;">4 Hours</div>
                                                  <canvas id="timeframe4h" style="width: 100%; height: 120px;"></canvas>
                                              </div>
                                              <div style="background: rgba(0, 0, 0, 0.4); border: 1px solid rgba(255, 215, 0, 0.3); border-radius: 8px; padding: 10px;">
                                                  <div style="color: #ffd700; font-size: 0.9rem; margin-bottom: 5px; text-align: center;">1 Day</div>
                                                  <canvas id="timeframe1d" style="width: 100%; height: 120px;"></canvas>
                                              </div>
                                              <div style="background: rgba(0, 0, 0, 0.4); border: 1px solid rgba(255, 215, 0, 0.3); border-radius: 8px; padding: 10px;">
                                                  <div style="color: #ffd700; font-size: 0.9rem; margin-bottom: 5px; text-align: center;">1 Week</div>
                                                  <canvas id="timeframe1w" style="width: 100%; height: 120px;"></canvas>
                                              </div>
                                          </div>
                                      </div>
                                      
                                      <div style="margin-bottom: 15px; display: flex; gap: 10px; flex-wrap: wrap; align-items: center;">
                                          <label style="color: #ffffff; font-size: 0.95rem; margin-right: 10px;">Time Range:</label>
                                          <button class="time-range-btn" data-range="30m" onclick="changeTimeRange('30m')" style="padding: 8px 15px; background: rgba(255, 0, 0, 0.3); border: 1px solid rgba(255, 0, 0, 0.5); border-radius: 5px; color: #ffffff; cursor: pointer; font-size: 0.9rem;">30 min</button>
                                          <button class="time-range-btn" data-range="2h" onclick="changeTimeRange('2h')" style="padding: 8px 15px; background: rgba(255, 0, 0, 0.3); border: 1px solid rgba(255, 0, 0, 0.5); border-radius: 5px; color: #ffffff; cursor: pointer; font-size: 0.9rem;">2 hours</button>
                                          <button class="time-range-btn" data-range="8h" onclick="changeTimeRange('8h')" style="padding: 8px 15px; background: rgba(255, 0, 0, 0.3); border: 1px solid rgba(255, 0, 0, 0.5); border-radius: 5px; color: #ffffff; cursor: pointer; font-size: 0.9rem;">8 hours</button>
                                          <button class="time-range-btn active" data-range="2d" onclick="changeTimeRange('2d')" style="padding: 8px 15px; background: rgba(255, 0, 0, 0.5); border: 2px solid #ff0000; border-radius: 5px; color: #ffffff; cursor: pointer; font-size: 0.9rem; font-weight: bold;">2 days</button>
                                      </div>
                                      <div style="position: relative; overflow-x: auto; overflow-y: hidden;">
                                          <canvas id="portfolioGraph" style="max-height: 400px; min-width: 600px;"></canvas>
                                      </div>
                                      <div id="graphScrollContainer" style="margin-top: 10px; display: none;">
                                          <input type="range" id="graphScrollSlider" min="0" max="100" value="0" 
                                                 style="width: 100%; height: 8px; background: rgba(255, 0, 0, 0.2); border-radius: 5px; outline: none; cursor: pointer;"
                                                 oninput="scrollGraph(this.value)">
                                          <div style="display: flex; justify-content: space-between; color: #cccccc; font-size: 0.85em; margin-top: 5px;">
                                              <span id="scrollStart">Start</span>
                                              <span id="scrollEnd">End</span>
                                          </div>
                                      </div>
                                  </div>
                                   <div id="leaderboardContent">
                                      <p style="color: #cccccc; text-align: center; padding: 20px;">Save your portfolio to start tracking its performance!</p>
                                   </div>
                                   
                                   <!-- Portfolio Share Card -->
                                   <div class="portfolio-share-section" style="
                                       margin-top: 30px;
                                       padding: 25px;
                                       background: linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, rgba(255, 200, 0, 0.15) 100%);
                                       border: 2px solid rgba(255, 215, 0, 0.4);
                                       border-radius: 15px;
                                       box-shadow: 0 0 25px rgba(255, 215, 0, 0.2);
                                   ">
                                       <h4 style="color: #ffd700; margin-bottom: 20px; font-size: 1.3rem; text-align: center;">üì± Share Your Portfolio</h4>
                                       <div id="shareCardPreview" style="
                                           background: rgba(0, 0, 0, 0.6);
                                           border: 2px solid rgba(255, 215, 0, 0.3);
                                           border-radius: 12px;
                                           padding: 20px;
                                           margin-bottom: 20px;
                                           text-align: center;
                                           min-height: 200px;
                                           display: flex;
                                           flex-direction: column;
                                           justify-content: center;
                                           align-items: center;
                                       ">
                                           <div style="color: #ffffff; font-size: 1.1rem; margin-bottom: 10px;">Create a portfolio to generate share card</div>
                                       </div>
                                       <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                                           <button onclick="generateShareCard()" class="btn btn-red" style="padding: 12px 25px; font-size: 1rem;">Generate Share Card</button>
                                           <button onclick="downloadShareCard()" id="downloadShareBtn" class="btn btn-red" style="padding: 12px 25px; font-size: 1rem; display: none;">Download Image</button>
                                           <button onclick="shareToSocial()" id="shareSocialBtn" class="btn btn-red" style="padding: 12px 25px; font-size: 1rem; display: none;">Share to Social</button>
                                       </div>
                                       <div id="shareQRCode" style="margin-top: 20px; text-align: center; display: none;">
                                           <div style="color: #ffffff; margin-bottom: 10px; font-size: 0.9rem;">Scan QR Code to view portfolio:</div>
                                           <canvas id="qrCanvas" style="background: #ffffff; padding: 10px; border-radius: 8px;"></canvas>
                                       </div>
                                   </div>
                               </div>
                           </div>
                       </div>
                   </div>

                   <!-- Module B: Personalized Mentor Panel -->
                   <div class="drawer-container">
                       <div class="drawer" id="drawerB">
                           <div class="drawer-header" onclick="toggleDrawerWithInit('drawerB')">
                               <h2>B. Personalized Crypto Mentor Panel <span style="background: rgba(255, 0, 0, 0.3); padding: 5px 15px; border-radius: 20px; font-size: 0.9rem; margin-left: 15px; color: #ff6666;">PAID</span> <span id="paymentStatus" style="display: none; width: 12px; height: 12px; background: #ff0000; border-radius: 50%; margin-left: 10px; animation: pulseGlow 2s infinite;"></span></h2>
                               <span class="drawer-icon">‚ñº</span>
                           </div>
                           <div class="drawer-content">
                               <h3 style="color: #ffffff; margin-bottom: 20px;">üß† Trading Psychology & Emotional Intelligence</h3>
                               
                               <!-- Enhanced Mood Check -->
                               <div class="mood-section" style="
                                   background: rgba(255, 0, 0, 0.1);
                                   border: 2px solid rgba(255, 0, 0, 0.3);
                                   border-radius: 12px;
                                   padding: 25px;
                                   margin-bottom: 25px;
                               ">
                                   <h4 style="color: #ffffff; margin-bottom: 20px; font-size: 1.4rem;">üí≠ Enhanced Mood Check & Analysis</h4>
                                   <div class="form-group" style="margin-bottom: 20px;">
                                       <label style="color: #ffffff; display: block; margin-bottom: 10px; font-size: 1.1rem;">Describe your current mood and emotional state:</label>
                                       <textarea id="moodText" rows="5" placeholder="For example: feeling anxious about recent market drops, worried about my portfolio, but also excited about potential opportunities..." 
                                                 style="width: 100%; padding: 15px; background: rgba(0, 0, 0, 0.4); border: 2px solid rgba(255, 0, 0, 0.3); border-radius: 8px; color: #ffffff; font-size: 1rem; resize: vertical; box-sizing: border-box;"></textarea>
                                   </div>
                                   <button class="btn btn-red" onclick="analyzeMoodEnhanced()" style="padding: 12px 30px; font-size: 1.1rem; font-weight: bold;">
                                       ü§ñ AI Deep Mood Analysis
                                   </button>
                                   <div id="moodResult" class="mood-result" style="display: none; margin-top: 20px; padding: 20px; background: rgba(0, 0, 0, 0.5); border-radius: 10px; border-left: 4px solid #ff0000;"></div>
                               </div>

                               <!-- Market Sentiment vs Your Mood -->
                               <div class="sentiment-comparison" style="
                                   background: rgba(255, 0, 0, 0.1);
                                   border: 2px solid rgba(255, 0, 0, 0.3);
                                   border-radius: 12px;
                                   padding: 25px;
                                   margin-bottom: 25px;
                               ">
                                   <h4 style="color: #ffffff; margin-bottom: 20px; font-size: 1.4rem;">üìä Market Sentiment vs Your Mood</h4>
                                   <div id="sentimentComparison" style="
                                       background: rgba(0, 0, 0, 0.4);
                                       border-radius: 10px;
                                       padding: 20px;
                                       margin-bottom: 20px;
                                   ">
                                       <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                                           <div style="text-align: center; padding: 15px; background: rgba(255, 0, 0, 0.2); border-radius: 8px;">
                                               <div style="color: #ff6666; font-size: 0.9rem; margin-bottom: 10px;">Market Sentiment</div>
                                               <div id="marketSentimentValue" style="font-size: 2rem; font-weight: bold; color: #ffffff;">-</div>
                                               <div id="marketSentimentLabel" style="color: #cccccc; font-size: 0.9rem; margin-top: 5px;">Loading...</div>
                                           </div>
                                           <div style="text-align: center; padding: 15px; background: rgba(255, 0, 0, 0.2); border-radius: 8px;">
                                               <div style="color: #ff6666; font-size: 0.9rem; margin-bottom: 10px;">Your Mood</div>
                                               <div id="yourMoodValue" style="font-size: 2rem; font-weight: bold; color: #ffffff;">-</div>
                                               <div id="yourMoodLabel" style="color: #cccccc; font-size: 0.9rem; margin-top: 5px;">Analyze your mood first</div>
                                           </div>
                                       </div>
                                       <div id="sentimentComparisonResult" style="
                                           padding: 15px;
                                           background: rgba(255, 215, 0, 0.1);
                                           border-left: 4px solid #ffd700;
                                           border-radius: 8px;
                                           color: #ffffff;
                                           line-height: 1.6;
                                           display: none;
                                       ">
                                           <strong style="color: #ffd700;">üí° Insight:</strong> <span id="sentimentInsight">Complete mood analysis to see comparison</span>
                                       </div>
                                   </div>
                                   <button class="btn btn-red" onclick="compareSentiment()" style="padding: 12px 30px; font-size: 1.1rem; font-weight: bold;">
                                       üîÑ Compare Sentiment
                                   </button>
                               </div>

                               <!-- Stress Level Monitor -->
                               <div class="stress-monitor" style="
                                   background: rgba(255, 0, 0, 0.1);
                                   border: 2px solid rgba(255, 0, 0, 0.3);
                                   border-radius: 12px;
                                   padding: 25px;
                                   margin-bottom: 25px;
                               ">
                                   <h4 style="color: #ffffff; margin-bottom: 20px; font-size: 1.4rem;">‚ö° Stress Level Monitor</h4>
                                   <div style="margin-bottom: 20px;">
                                       <label style="color: #ffffff; display: block; margin-bottom: 15px; font-size: 1.1rem;">
                                           Current Stress Level: <span id="stressValue" style="color: #ff0000; font-weight: bold; font-size: 1.3rem;">0</span>/100
                                       </label>
                                       <input type="range" id="stressLevel" min="0" max="100" value="0" oninput="updateStressLevel(this.value)" 
                                              style="width: 100%; height: 10px; background: rgba(255, 0, 0, 0.2); border-radius: 5px; outline: none; cursor: pointer;">
                                       <div style="display: flex; justify-content: space-between; color: #cccccc; font-size: 0.85rem; margin-top: 5px;">
                                           <span>Calm</span>
                                           <span>Moderate</span>
                                           <span>High</span>
                                           <span>Extreme</span>
                                       </div>
                                   </div>
                                   <div id="stressHistory" style="
                                       background: rgba(0, 0, 0, 0.4);
                                       border-radius: 10px;
                                       padding: 20px;
                                       margin-bottom: 20px;
                                       min-height: 150px;
                                   ">
                                       <div style="color: #ffffff; margin-bottom: 15px; font-weight: bold;">Stress History (Last 7 Days):</div>
                                       <canvas id="stressChart" style="width: 100%; height: 120px; background: rgba(0, 0, 0, 0.3); border-radius: 5px;"></canvas>
                                   </div>
                                   <div id="stressRecommendations" style="
                                       padding: 15px;
                                       background: rgba(255, 0, 0, 0.2);
                                       border-left: 4px solid #ff0000;
                                       border-radius: 8px;
                                       color: #ffffff;
                                       line-height: 1.6;
                                       display: none;
                                   ">
                                       <strong style="color: #ff6666;">‚ö†Ô∏è Warning:</strong> <span id="stressWarning">Your stress level is normal. Keep monitoring!</span>
                                   </div>
                                   <button class="btn btn-red" onclick="saveStressLevel()" style="padding: 12px 30px; font-size: 1.1rem; font-weight: bold; margin-top: 15px;">
                                       üíæ Save Stress Level
                                   </button>
                               </div>
                           </div>
                       </div>
                   </div>

                   <!-- Module C: Crypto Experiment Lab -->
                   <div class="drawer-container">
                       <div class="drawer" id="drawerC">
                           <div class="drawer-header" onclick="toggleDrawerWithInit('drawerC')">
                               <h2>C. Crypto Experiment Lab <span style="background: rgba(255, 0, 0, 0.3); padding: 5px 15px; border-radius: 20px; font-size: 0.9rem; margin-left: 15px; color: #ff6666;">PAID</span></h2>
                               <span class="drawer-icon">‚ñº</span>
                           </div>
                           <div class="drawer-content">
                               <h3 style="color: #ffffff; margin-bottom: 20px;">Interactive zone for testing hypotheses and experimenting with cryptocurrency strategies</h3>
                               
                               <div class="section-box">
                                   <h4>Create New Experiment</h4>
                                   <div class="form-group">
                                       <label>Your Deposit ($):</label>
                                       <input type="number" id="userDeposit" placeholder="e.g.: 10000" min="0" step="100" value="10000" style="width: 100%;">
                                       <small style="color: #888;">Enter your starting capital</small>
                                   </div>
                                   <div class="form-group">
                                       <label>Experiment Name:</label>
                                       <input type="text" id="experimentName" placeholder="e.g.: BTC drop scenario 20%">
                                   </div>
                                   <div class="form-group">
                                       <label>Select Coin:</label>
                                       <select id="experimentCoin">
                                           <option value="BTC">Bitcoin (BTC)</option>
                                           <option value="ETH">Ethereum (ETH)</option>
                                           <option value="BNB">Binance Coin (BNB)</option>
                                           <option value="SOL">Solana (SOL)</option>
                                           <option value="ADA">Cardano (ADA)</option>
                                           <option value="XRP">Ripple (XRP)</option>
                                           <option value="ENA">Ethena (ENA)</option>
                                           <option value="FARTCOIN">Fartcoin (FARTCOIN)</option>
                                           <option value="PEPE">Pepe (PEPE)</option>
                                           <option value="AVAX">Avalanche (AVAX)</option>
                                           <option value="NEAR">NEAR Protocol (NEAR)</option>
                                           <option value="ONDO">Ondo (ONDO)</option>
                                           <option value="WLD">Worldcoin (WLD)</option>
                                           <option value="ARB">Arbitrum (ARB)</option>
                                           <option value="APT">Aptos (APT)</option>
                                           <option value="LDO">Lido DAO (LDO)</option>
                                           <option value="VIRTAUL">Virtual (VIRTAUL)</option>
                                           <option value="UNI">Uniswap (UNI)</option>
                                           <option value="SBIB1000">Shiba 1000 (SBIB1000)</option>
                                           <option value="WLFI">Wifi (WLFI)</option>
                                           <option value="IJU">Iju (IJU)</option>
                                           <option value="SOMI">Somi (SOMI)</option>
                                           <option value="IP">IP Coin (IP)</option>
                                           <option value="APE">ApeCoin (APE)</option>
                                           <option value="DOGE">Dogecoin (DOGE)</option>
                                           <option value="SUI">Sui (SUI)</option>
                                   <option value="WIF">dogwifhat (WIF)</option>
                                   <option value="AAVE">Aave (AAVE)</option>
                                   <option value="PENGU">Pudgy Penguins (PENGU)</option>
                                   <option value="SEI">Sei (SEI)</option>
                                   <option value="GALA">Gala (GALA)</option>
                                   <option value="TON">Toncoin (TON)</option>
                                   <option value="MYX">Myx (MYX)</option>
                                   <option value="ATOM">Cosmos (ATOM)</option>
                                       </select>
                                   </div>
                                   <div class="form-group" style="background: rgba(255, 165, 0, 0.1); padding: 15px; border-radius: 8px; border: 1px solid rgba(255, 165, 0, 0.3);">
                                       <label style="margin-bottom: 10px;">ü§ñ Strategy Generator from Text:</label>
                                       <textarea id="strategyText" rows="3" placeholder="e.g.: If BTC drops 30%, I want to sell half, wait for -50% and buy back" style="width: 100%; margin-bottom: 10px;"></textarea>
                                       <button class="btn btn-black" style="padding: 8px 15px; font-size: 0.9rem; margin-top: 0;" onclick="generateStrategyFromText()">Convert to Strategy</button>
                                       <div id="generatedStrategyResult" style="margin-top: 10px; font-size: 0.9rem;"></div>
                                   </div>
                                   <div class="form-group">
                                       <label>Scenario Description:</label>
                                       <textarea id="experimentScenario" rows="3" placeholder="e.g.: What if BTC drops 20%? How will this affect my portfolio?"></textarea>
                                   </div>
                                   <div class="form-group" style="background: rgba(255, 0, 0, 0.1); padding: 15px; border-radius: 8px; border: 1px solid rgba(255, 0, 0, 0.3);">
                                       <label style="margin-bottom: 10px;">ü§ñ AI Scenario Generator:</label>
                                       <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                                           <button class="btn btn-black" style="padding: 8px 15px; font-size: 0.9rem; margin-top: 0;" onclick="loadAIScenario('bearish')">CRASH -50% (Hardcore)</button>
                                           <button class="btn btn-black" style="padding: 8px 15px; font-size: 0.9rem; margin-top: 0;" onclick="loadAIScenario('altcrash')">BULLRUN +150%</button>
                                           <button class="btn btn-black" style="padding: 8px 15px; font-size: 0.9rem; margin-top: 0;" onclick="loadAIScenario('regulatory')">Regulatory Shock -35%</button>
                                       </div>
                                       <small style="color: #888; margin-top: 10px; display: block;">üí° AI will create a detailed strategy with specific numbers and actions</small>
                                   </div>
                                   <div class="form-group">
                                       <label>Price Change (%): <span id="priceChangeValue">0%</span></label>
                                       <input type="range" id="priceChange" min="-70" max="200" value="0" oninput="updatePriceChangeDisplay(); updateCorrelations()">
                                   </div>
                                   <div class="form-group" style="background: rgba(0, 255, 0, 0.1); padding: 15px; border-radius: 8px; border: 1px solid rgba(0, 255, 0, 0.3);">
                                       <label style="margin-bottom: 10px;">
                                           <input type="checkbox" id="correlationsEnabled" onchange="updateCorrelations()" style="margin-right: 10px;">
                                           Smart Correlations (auto-fill)
                                       </label>
                                       <div id="correlationsSuggestions" style="margin-top: 10px; font-size: 0.9rem; color: #888;"></div>
                                   </div>
                                   <button class="btn btn-red" onclick="runExperiment()">Run Experiment</button>
                                   <button class="btn btn-red" onclick="startSurvivalMode()" style="background: linear-gradient(135deg, #ff3333, #cc0000); margin-top: 10px; width: 100%;">üî• SURVIVAL MODE</button>
                               </div>

                               <div class="section-box" id="survivalModeBox" style="display: none;">
                                   <h4>üî• SURVIVAL MODE</h4>
                                   <div id="survivalTimer" style="font-size: 3rem; text-align: center; color: #ff0000; margin: 20px 0;"></div>
                                   <div id="survivalEvent" style="background: rgba(255, 0, 0, 0.3); padding: 20px; border-radius: 8px; margin-bottom: 20px; text-align: center;"></div>
                                   <div id="survivalActions" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; max-width: 600px; margin: 0 auto;">
                                       <button class="btn btn-red" onclick="survivalAction('sell30')" style="background: linear-gradient(135deg, #00ff00, #00cc00);">[1] [1] Sell 30% BTC</button>
                                       <button class="btn btn-red" onclick="survivalAction('buydip')" style="background: linear-gradient(135deg, #ff0000, #cc0000);">[2] [2] Buy SOL dip</button>
                                       <button class="btn btn-red" onclick="survivalAction('donothing')" style="background: linear-gradient(135deg, #ffa500, #ff8000);">[3] [3] Do nothing</button>
                                       <button class="btn btn-red" onclick="survivalAction('panicsell')" style="background: linear-gradient(135deg, #000000, #330000);">[4] [4] Panic sell everything</button>
                                   </div>
                                   <div id="survivalResult" style="margin-top: 20px;"></div>
                               </div>

                               <div class="section-box" id="experimentResults" style="display: none;">
                                   <h4>üî¥ Live Result with AI Advice</h4>
                                   <div class="result-box" id="experimentAnalysis"></div>
                                   <div class="result-box" id="aiAdviceBox" style="background: rgba(255, 165, 0, 0.2); border-color: #ffa500; margin-top: 15px;"></div>
                                   <div class="chart-container" id="experimentChart">Graphic visualization will appear here</div>
                                   <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-top: 15px;">
                                       <button class="btn btn-black" onclick="saveExperiment()">Save to Archive</button>
                                       <button class="btn btn-black" onclick="shareExperiment()">Share</button>
                                       <button class="btn btn-black" onclick="createBotStrategy()">Create Bot</button>
                                   </div>
                               </div>

                               <div class="section-box">
                                   <h4>Your Experiment Archive</h4>
                                   <div class="section-title">Saved Experiments</div>
                                   <div id="experimentArchive"></div>
                               </div>
                           </div>
                       </div>
                   </div>

                   <!-- Module D: Individual Strategy Constructor -->
                   <div class="drawer-container">
                       <div class="drawer" id="drawerD">
                           <div class="drawer-header" onclick="toggleDrawerWithInit('drawerD')">
                               <h2>D. Individual Strategy Builder <span style="background: rgba(255, 0, 0, 0.3); padding: 5px 15px; border-radius: 20px; font-size: 0.9rem; margin-left: 15px; color: #ff6666;">PAID</span></h2>
                               <span class="drawer-icon">‚ñº</span>
                           </div>
                           <div class="drawer-content">
                               <h3 style="color: #ffffff; margin-bottom: 20px;">Step-by-step tool for creating personalized trading/investment strategies</h3>
                               
                               <div class="section-box">
                                   <h4>Strategy Setup</h4>
                                   <div class="form-group">
                                       <label>Preferred Assets (select multiple):</label>
                                       <select id="preferredAssets" multiple style="height: 250px;">
                                           <option value="BTC">Bitcoin (BTC)</option>
                                           <option value="ETH">Ethereum (ETH)</option>
                                           <option value="BNB">Binance Coin (BNB)</option>
                                           <option value="SOL">Solana (SOL)</option>
                                           <option value="ADA">Cardano (ADA)</option>
                                           <option value="XRP">Ripple (XRP)</option>
                                           <option value="ENA">Ethena (ENA)</option>
                                           <option value="FARTCOIN">Fartcoin (FARTCOIN)</option>
                                           <option value="PEPE">Pepe (PEPE)</option>
                                           <option value="AVAX">Avalanche (AVAX)</option>
                                           <option value="NEAR">NEAR Protocol (NEAR)</option>
                                           <option value="ONDO">Ondo (ONDO)</option>
                                           <option value="WLD">Worldcoin (WLD)</option>
                                           <option value="ARB">Arbitrum (ARB)</option>
                                           <option value="APT">Aptos (APT)</option>
                                           <option value="LDO">Lido DAO (LDO)</option>
                                           <option value="VIRTAUL">Virtual (VIRTAUL)</option>
                                           <option value="UNI">Uniswap (UNI)</option>
                                           <option value="BIB1000">Shiba 1000 (BIB1000)</option>
                                           <option value="WLFI">Wifi (WLFI)</option>
                                           <option value="IJU">Iju (IJU)</option>
                                           <option value="SOMI">Somi (SOMI)</option>
                                           <option value="IP">IP Coin (IP)</option>
                                           <option value="APE">ApeCoin (APE)</option>
                                           <option value="DOGE">Dogecoin (DOGE)</option>
                                           <option value="SUI">Sui (SUI)</option>
                                           <option value="WIF">dogwifhat (WIF)</option>
                                           <option value="AAVE">Aave (AAVE)</option>
                                           <option value="PENGU">Pudgy Penguins (PENGU)</option>
                                           <option value="SEI">Sei (SEI)</option>
                                           <option value="GALA">Gala (GALA)</option>
                                           <option value="TON">Toncoin (TON)</option>
                                           <option value="MYX">Myx (MYX)</option>
                                           <option value="ATOM">Cosmos (ATOM)</option>
                                       </select>
                                       <small style="color: #888;">Hold Ctrl/Cmd to select multiple</small>
                                   </div>
                                   <div class="form-group">
                                       <label>Time Horizon:</label>
                                       <select id="timeHorizon">
                                           <option value="days">Days (Short-term)</option>
                                           <option value="weeks">Weeks (Medium-term)</option>
                                           <option value="months">Months (Long-term)</option>
                                           <option value="years">Years (Very long-term)</option>
                                       </select>
                                   </div>
                                   <div class="form-group">
                                       <label>Risk Appetite: <span id="riskAppetiteValue">50%</span></label>
                                       <input type="range" id="riskAppetite" min="0" max="100" value="50" oninput="updateRiskAppetiteDisplay()">
                                   </div>
                                   <button class="btn btn-red" onclick="generateStrategies()">Generate Strategies</button>
                               </div>

                               <div class="section-box" id="strategiesResult" style="display: none;">
                                   <h4>Your Personalized Strategies</h4>
                                   <div id="strategiesList"></div>
                                   <div style="margin-top: 20px;">
                                       <button class="btn btn-black" onclick="testStressScenario()">Strategy Stress Test (Market Crash)</button>
                                       <div id="stressTestResult" style="display: none; margin-top: 15px;" class="result-box"></div>
                                   </div>
                               </div>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
       </div>
   </div>
   
   <!-- Chat Widget - –í–°–ï–ì–î–ê –í –ü–†–ê–í–û–ú –ù–ò–ñ–ù–ï–ú –£–ì–õ–£ –≠–ö–†–ê–ù–ê -->
   <!-- Chat Widget - –í–°–ï–ì–î–ê –í –ü–†–ê–í–û–ú –ù–ò–ñ–ù–ï–ú –£–ì–õ–£ –≠–ö–†–ê–ù–ê, –í–ù–ï .page, –ù–ê –£–†–û–í–ù–ï body -->
   <div class="chat-widget" id="chatWidget" style="position: fixed !important; bottom: 20px !important; right: 20px !important; top: auto !important; left: auto !important; z-index: 2147483647 !important; display: block !important; visibility: visible !important; opacity: 1 !important; pointer-events: auto !important; margin: 0 !important; padding: 0 !important; transform: none !important; width: auto !important; height: auto !important;">
       <button class="chat-button" id="chatButton" aria-label="Open chat" style="display: flex !important; visibility: visible !important; opacity: 1 !important; position: relative !important; width: 62px !important; height: 62px !important; border-radius: 50% !important; background: linear-gradient(135deg, #2a2a2a 0%, #1a1a1a 100%) !important; border: 2px solid #3a3a3a !important; cursor: pointer !important; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.6) !important; align-items: center !important; justify-content: center !important; pointer-events: auto !important; margin: 0 !important; padding: 0 !important;">
           <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" style="width: 31px !important; height: 31px !important; fill: #FFFFFF !important; display: block !important;">
               <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"/>
           </svg>
       </button>
       <div class="chat-container" id="chatContainer" aria-live="polite">
           <div class="chat-header">
               <h3>
                   <span class="status-dot" aria-hidden="true"></span>
                   Crypto AI Assistant
               </h3>
               <button class="close-chat" id="closeChat" aria-label="Close chat">&times;</button>
           </div>
           <div class="chat-subscription-section" id="subscriptionSection">
               <div class="chat-timer-display" id="timerDisplay">24:00</div>
           </div>
           <div class="chat-expired-overlay hidden" id="chatExpiredOverlay">
               <div class="chat-expired-content">
                   <p class="chat-expired-text">Subscribe to continue using this amazing bot for $10/month</p>
                   <div class="payment-method-buttons">
                       <button class="chat-expired-btn payment-method-btn" data-method="crypto" type="button" data-original-text="üí≥ Pay with Crypto (USDT)">
                           üí≥ Pay with Crypto (USDT)
                       </button>
                       <button class="chat-expired-btn payment-method-btn" data-method="card" type="button" data-original-text="üí≥ Pay with Card (Visa/Mastercard)">
                           üí≥ Pay with Card (Visa/Mastercard)
                       </button>
                   </div>
               </div>
           </div>
           <div class="chat-messages" id="chatMessages">
               <div class="message bot">
                   <div class="message-avatar" aria-hidden="true">üá∫üá∏</div>
                   <div class="message-content">
                       Hey! I'm your Crypto AI Assistant powered by Mistral AI üöÄ I understand all crypto terms, slang, and even "dumb" questions! Ask me anything about Bitcoin, DeFi, NFTs, trading, security, or crypto culture (HODL, FOMO, FUD, moon, lambo, degen, WAGMI)!
                       <div class="quick-questions">
                           <button class="quick-question-btn" data-question="What is HODL?">What is HODL?</button>
                           <button class="quick-question-btn" data-question="Explain DeFi">Explain DeFi</button>
                           <button class="quick-question-btn" data-question="What is a whale?">What is a whale?</button>
                           <button class="quick-question-btn" data-question="Wen moon?">Wen moon? üöÄ</button>
                           <button class="quick-question-btn" data-question="What are rug pulls?">Rug pulls?</button>
                       </div>
                   </div>
               </div>
           </div>
           <div class="chat-input-container">
               <div class="chat-input-wrapper">
                   <input type="text" class="chat-input" id="chatInput" placeholder="Ask about crypto..." autocomplete="off">
                   <button class="send-button" id="sendButton" aria-label="Send message">
                       <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                           <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                       </svg>
                   </button>
               </div>
           </div>
       </div>
   </div>
   
   <script src="../../scripts/chatbot.js?v=31"></script>
   
   <!-- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è —Ç–µ–∫—Å—Ç–∞ —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º –ø—Ä–æ–∫–∞—á–∫–∏ -->
   <script>
       (function() {
           'use strict';
           
           // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: –∏—Å–ø–æ–ª—å–∑—É–µ–º requestAnimationFrame –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏
           let animationFrameId = null;
           
           // –ñ–¥–µ–º –∑–∞–≥—Ä—É–∑–∫–∏ DOM
           if (document.readyState === 'loading') {
               document.addEventListener('DOMContentLoaded', initTextEffects);
           } else {
               initTextEffects();
           }
           
           function initTextEffects() {
               const introText = document.querySelector('.intro-text');
               const textBlock = document.querySelector('.crypto-text-block');
               if (!introText || !textBlock) return;
               
               // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è —Å–ª–æ–≤ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ)
               const highlights = introText.querySelectorAll('.highlight');
               highlights.forEach((highlight, index) => {
                   // –ò—Å–ø–æ–ª—å–∑—É–µ–º CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
                   highlight.style.setProperty('--delay', `${0.5 + index * 0.2}s`);
                   highlight.style.opacity = '0';
                   highlight.style.transform = 'translateY(10px) translateZ(0)';
                   
                   // –ò—Å–ø–æ–ª—å–∑—É–µ–º requestAnimationFrame –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏
                   requestAnimationFrame(() => {
                       setTimeout(() => {
                           highlight.style.transition = 'opacity 0.6s ease-out, transform 0.6s ease-out';
                           highlight.style.opacity = '1';
                           highlight.style.transform = 'translateY(0) translateZ(0)';
                       }, 500 + index * 200);
                   });
               });
               
               // –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –≤–µ—Å—å –±–ª–æ–∫ (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ)
               let hoverTimeout = null;
               textBlock.addEventListener('mouseenter', function() {
                   if (hoverTimeout) cancelAnimationFrame(hoverTimeout);
                   hoverTimeout = requestAnimationFrame(() => {
                       this.style.transition = 'transform 0.3s ease, box-shadow 0.3s ease';
                       this.style.transform = 'translateY(-5px) translateZ(0)';
                       this.style.boxShadow = '0 10px 40px rgba(202, 0, 0, 0.3), 0 0 60px rgba(202, 0, 0, 0.2)';
                   });
               });
               
               textBlock.addEventListener('mouseleave', function() {
                   if (hoverTimeout) cancelAnimationFrame(hoverTimeout);
                   hoverTimeout = requestAnimationFrame(() => {
                       this.style.transform = 'translateY(0) translateZ(0)';
                       this.style.boxShadow = '0 0 30px rgba(202, 0, 0, 0.2), inset 0 0 50px rgba(202, 0, 0, 0.05)';
                   });
               });
               
               // –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ (Intersection Observer - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ)
               const observerOptions = {
                   threshold: 0.1,
                   rootMargin: '0px 0px -50px 0px'
               };
               
               const observer = new IntersectionObserver(function(entries) {
                   entries.forEach(entry => {
                       if (entry.isIntersecting) {
                           requestAnimationFrame(() => {
                               entry.target.style.opacity = '1';
                               entry.target.style.transform = 'translateY(0) translateZ(0)';
                           });
                       }
                   });
               }, observerOptions);
               
               observer.observe(introText);
               
               // –≠—Ñ—Ñ–µ–∫—Ç "–ø—Ä–æ–∫–∞—á–∫–∏ –Ω–∞–≤—ã–∫–æ–≤" - –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ)
               let skillUpdateInterval = null;
               function updateSkills() {
                   if (skillUpdateInterval) return; // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã
                   
                   skillUpdateInterval = setInterval(() => {
                       requestAnimationFrame(() => {
                           const randomHighlight = highlights[Math.floor(Math.random() * highlights.length)];
                           if (randomHighlight) {
                               // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –ø—Ä–æ–∫–∞—á–∫–∏
                               randomHighlight.classList.add('skill-level-up');
                               setTimeout(() => {
                                   randomHighlight.classList.remove('skill-level-up');
                               }, 1000);
                           }
                       });
                   }, 6000); // –ö–∞–∂–¥—ã–µ 6 —Å–µ–∫—É–Ω–¥
               }
               
               // –ó–∞–ø—É—Å–∫–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–æ–∫–∞—á–∫–∏ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
               setTimeout(updateSkills, 2000);
               
               // –°–∏—Å—Ç–µ–º–∞ –æ–ø—ã—Ç–∞ –∏ —É—Ä–æ–≤–Ω—è –Ω–∞–≤—ã–∫–∞
               let experiencePoints = parseInt(localStorage.getItem('cryptoCoachXP') || '0');
               
               // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è –Ω–∞–≤—ã–∫–∞
               function updateSkillLevel() {
                   const levelFill = document.getElementById('skillLevelFill');
                   const levelText = document.getElementById('skillLevelText');
                   
                   if (!levelFill || !levelText) return;
                   
                   // –í—ã—á–∏—Å–ª—è–µ–º —É—Ä–æ–≤–µ–Ω—å –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–ø—ã—Ç–∞
                   const level = Math.floor(experiencePoints / 100) + 1;
                   const levelProgress = (experiencePoints % 100);
                   const levelNames = ['Beginner', 'Novice', 'Intermediate', 'Advanced', 'Expert', 'Master', 'Legend'];
                   const levelName = levelNames[Math.min(level - 1, levelNames.length - 1)] || 'Beginner';
                   
                   levelFill.style.width = levelProgress + '%';
                   levelText.textContent = `Level ${level} - ${levelName}`;
               }
               
               // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–ø—ã—Ç–∞
               highlights.forEach(highlight => {
                   if (highlight.dataset.skill) {
                       highlight.addEventListener('click', function() {
                           // –î–æ–±–∞–≤–ª—è–µ–º –æ–ø—ã—Ç
                           experiencePoints += 10;
                           localStorage.setItem('cryptoCoachXP', experiencePoints);
                           
                           // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç –ø–æ–ª—É—á–µ–Ω–∏—è –æ–ø—ã—Ç–∞
                           this.classList.add('xp-gained');
                           setTimeout(() => {
                               this.classList.remove('xp-gained');
                           }, 1000);
                           
                           // –û–±–Ω–æ–≤–ª—è–µ–º —É—Ä–æ–≤–µ–Ω—å –Ω–∞–≤—ã–∫–∞
                           updateSkillLevel();
                           
                           // –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–æ–∫–∞—á–∫–∏
                           this.classList.add('skill-level-up');
                           setTimeout(() => {
                               this.classList.remove('skill-level-up');
                           }, 1000);
                       });
                   }
               });
               
               // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —É—Ä–æ–≤–Ω—è –Ω–∞–≤—ã–∫–∞
               setTimeout(updateSkillLevel, 500);
               
               // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –æ–ø—ã—Ç–∞ –ø—Ä–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π
               let interactionCount = 0;
               document.addEventListener('click', function() {
                   interactionCount++;
                   if (interactionCount % 5 === 0) {
                       experiencePoints += 1;
                       localStorage.setItem('cryptoCoachXP', experiencePoints);
                       updateSkillLevel();
                   }
               }, { passive: true });
               
               // –û—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏)
               window.addEventListener('beforeunload', function() {
                   if (skillUpdateInterval) clearInterval(skillUpdateInterval);
                   if (hoverTimeout) cancelAnimationFrame(hoverTimeout);
                   observer.disconnect();
               });
               
           }
       })();
   </script>
   
   <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ì–ê–†–ê–ù–¢–ò–ò –≤–∏–¥–∏–º–æ—Å—Ç–∏ —á–∞—Ç–∞ -->
   <script>
       (function() {
           function forceChatPosition() {
               const chatWidget = document.getElementById('chatWidget');
               if (!chatWidget) {
                   console.warn('Chat widget not found!');
                   return;
               }
               
               // –ö–†–ò–¢–ò–ß–ù–û: –ü–µ—Ä–µ–º–µ—â–∞–µ–º —á–∞—Ç –≤ body, –µ—Å–ª–∏ –æ–Ω –Ω–µ —Ç–∞–º
               if (chatWidget.parentElement !== document.body) {
                   console.log('Moving chat to body from:', chatWidget.parentElement?.tagName);
                   document.body.appendChild(chatWidget);
               }
               
               // –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–û —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–µ —Å—Ç–∏–ª–∏
               chatWidget.style.setProperty('position', 'fixed', 'important');
               chatWidget.style.setProperty('bottom', '20px', 'important');
               chatWidget.style.setProperty('right', '20px', 'important');
               chatWidget.style.setProperty('top', 'auto', 'important');
               chatWidget.style.setProperty('left', 'auto', 'important');
               chatWidget.style.setProperty('z-index', '2147483647', 'important');
               chatWidget.style.setProperty('display', 'block', 'important');
               chatWidget.style.setProperty('visibility', 'visible', 'important');
               chatWidget.style.setProperty('opacity', '1', 'important');
               chatWidget.style.setProperty('pointer-events', 'auto', 'important');
               chatWidget.style.setProperty('margin', '0', 'important');
               chatWidget.style.setProperty('padding', '0', 'important');
               chatWidget.style.setProperty('transform', 'none', 'important');
               
               // –ü—Ä–æ–≤–µ—Ä—è–µ–º computed —Å—Ç–∏–ª–∏
               const computed = window.getComputedStyle(chatWidget);
               if (computed.position !== 'fixed') {
                   console.error('ERROR: Position is NOT fixed!', computed.position);
                   // –ï—â–µ —Ä–∞–∑ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ
                   chatWidget.style.position = 'fixed';
               }
               
               // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —á–∞—Ç –≤–∏–¥–µ–Ω
               const rect = chatWidget.getBoundingClientRect();
               const isVisible = rect.bottom <= window.innerHeight && rect.right <= window.innerWidth;
               if (!isVisible) {
                   console.warn('Chat might not be visible!', rect);
               }
           }
           
           // –í—ã–ø–æ–ª–Ω—è–µ–º –ú–ù–û–ñ–ï–°–¢–í–û —Ä–∞–∑ –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏
           forceChatPosition();
           
           // –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ DOM
           if (document.readyState === 'loading') {
               document.addEventListener('DOMContentLoaded', function() {
                   forceChatPosition();
                   setTimeout(forceChatPosition, 100);
                   setTimeout(forceChatPosition, 500);
               });
           } else {
               setTimeout(forceChatPosition, 100);
               setTimeout(forceChatPosition, 500);
           }
           
           // –ü—Ä–∏ –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
           window.addEventListener('load', function() {
               forceChatPosition();
               setTimeout(forceChatPosition, 100);
           });
           
           // –ü—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ - –ö–ê–ñ–î–´–ô –†–ê–ó
           let scrollTimeout;
           window.addEventListener('scroll', function() {
               forceChatPosition();
               clearTimeout(scrollTimeout);
               scrollTimeout = setTimeout(forceChatPosition, 50);
           }, { passive: true });
           
           // –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
           window.addEventListener('resize', forceChatPosition);
           
           // –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º –ö–ê–ñ–î–´–ï 50ms (—á–∞—â–µ!)
           setInterval(forceChatPosition, 50);
           
           // MutationObserver –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π DOM
           setTimeout(function() {
               const observer = new MutationObserver(function(mutations) {
                   forceChatPosition();
               });
               observer.observe(document.body, {
                   childList: true,
                   subtree: true,
                   attributes: true,
                   attributeFilter: ['style', 'class']
               });
               console.log('‚úÖ MutationObserver started for chat');
           }, 1000);
           
           console.log('‚úÖ Chat position force script loaded');
       })();
   </script>
</body>
</html>

