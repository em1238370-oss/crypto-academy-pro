<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Crypto Basics</title>
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Rajdhani:wght@400;500;600;700&family=Ubuntu:wght@300;400;500;700&display=swap" rel="stylesheet">
   <link rel="stylesheet" href="styles.css">
</head>
<body>
   <div class="page">
       <!-- Unique Crypto Learning Background Elements -->
       <div class="crypto-learning-elements">
           <!-- Floating geometric shapes with crypto symbols -->
           <div class="floating-shape shape-1">
               <div class="shape-content">‚Çø</div>
           </div>
           <div class="floating-shape shape-2">
               <div class="shape-content">Œû</div>
           </div>
           <div class="floating-shape shape-3">
               <div class="shape-content">101</div>
           </div>
           <!-- Data waves (knowledge flow) -->
           <div class="data-wave wave-1"></div>
           <div class="data-wave wave-2"></div>
           <div class="data-wave wave-3"></div>
           <!-- Knowledge network nodes -->
           <div class="knowledge-node node-1"></div>
           <div class="knowledge-node node-2"></div>
           <div class="knowledge-node node-3"></div>
           <div class="knowledge-node node-4"></div>
           <div class="knowledge-node node-5"></div>
           <!-- Connection lines between nodes -->
           <div class="knowledge-connection conn-1"></div>
           <div class="knowledge-connection conn-2"></div>
           <div class="knowledge-connection conn-3"></div>
           <!-- Floating numbers and formulas -->
           <div class="floating-number num-1">0x</div>
           <div class="floating-number num-2">256</div>
           <div class="floating-number num-3">21M</div>
           <!-- Holographic crypto symbols -->
           <div class="hologram-symbol holo-1">BLOCKCHAIN</div>
           <div class="hologram-symbol holo-2">WALLET</div>
       </div>
       
       <div class="content">
           <div class="crypto-101-wrapper">
               <div class="crypto-101-container">
                   <h1>Crypto <span class="italic">101</span>:<br>Unlock the <span class="italic">Basics</span></h1>
               </div>
           </div>
           
           <div class="crypto-basics-wrapper">
               <div class="overlay-text">
                   Cryptocurrency can seem tricky, but learning the basics helps you dive in with confidence. Things like blockchain‚Äîa shared, secure record of transactions‚Äîset the stage for understanding crypto. Knowing about cryptocurrencies like Bitcoin, the first digital money that works without banks, shows you how they can change finance. Wallets are also key; they use special codes called private and public keys to keep your money safe. This basic knowledge helps you sort through tons of info, avoid scams, and make smart choices, so you can explore the crypto world and focus on what excites you.
               </div>
           </div>
           
           <!-- Cryptocurrency Course -->
           <div class="course-container">
               <h1 class="course-title">Ride the Crypto Wave: Start Smart, Stay Safe!</h1>
               
               <!-- Course content will be inserted here via JavaScript or directly in HTML -->
               <div id="course-content"></div>
           </div>
       </div>
   </div>
   
   <!-- Chat Widget - –í–°–ï–ì–î–ê –í –ü–†–ê–í–û–ú –ù–ò–ñ–ù–ï–ú –£–ì–õ–£ –≠–ö–†–ê–ù–ê, –í–ù–ï .page, –ù–ê –£–†–û–í–ù–ï body -->
   <div class="chat-widget" id="chatWidget" style="position: fixed !important; bottom: 20px !important; right: 20px !important; top: auto !important; left: auto !important; z-index: 2147483647 !important; display: block !important; visibility: visible !important; opacity: 1 !important; pointer-events: auto !important; margin: 0 !important; padding: 0 !important; transform: none !important; width: auto !important; height: auto !important;">
       <button class="chat-button" id="chatButton" aria-label="Open chat" style="display: flex !important; visibility: visible !important; opacity: 1 !important; position: relative !important; width: 62px !important; height: 62px !important; border-radius: 50% !important; background: linear-gradient(135deg, #2a2a2a 0%, #1a1a1a 100%) !important; border: 2px solid #3a3a3a !important; cursor: pointer !important; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.6) !important; align-items: center !important; justify-content: center !important; pointer-events: auto !important; margin: 0 !important; padding: 0 !important;">
           <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" style="width: 31px !important; height: 31px !important; fill: #FFFFFF !important; display: block !important;">
               <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"/>
           </svg>
       </button>
       <div class="chat-container" id="chatContainer" aria-live="polite">
           <div class="chat-header">
               <h3>
                   <span class="status-dot" aria-hidden="true"></span>
                   Crypto AI Assistant
               </h3>
               <button class="close-chat" id="closeChat" aria-label="Close chat">&times;</button>
           </div>
           <div class="chat-subscription-section" id="subscriptionSection">
               <div class="chat-timer-display" id="timerDisplay">24:00</div>
           </div>
           <div class="chat-expired-overlay hidden" id="chatExpiredOverlay">
               <div class="chat-expired-content">
                   <p class="chat-expired-text">Subscribe to continue using this amazing bot for $10/month</p>
                   <div class="payment-method-buttons">
                       <button class="chat-expired-btn payment-method-btn" data-method="crypto" type="button" data-original-text="üí≥ Pay with Crypto (USDT)">
                           üí≥ Pay with Crypto (USDT)
                       </button>
                       <button class="chat-expired-btn payment-method-btn" data-method="card" type="button" data-original-text="üí≥ Pay with Card (Visa/Mastercard)">
                           üí≥ Pay with Card (Visa/Mastercard)
                       </button>
                   </div>
               </div>
           </div>
           <div class="chat-messages" id="chatMessages">
               <div class="message bot">
                   <div class="message-avatar" aria-hidden="true">üá∫üá∏</div>
                   <div class="message-content">
                       Hey! I'm your Crypto AI Assistant powered by Mistral AI üöÄ I understand all crypto terms, slang, and even "dumb" questions! Ask me anything about Bitcoin, DeFi, NFTs, trading, security, or crypto culture (HODL, FOMO, FUD, moon, lambo, degen, WAGMI)!
                       <div class="quick-questions">
                           <button class="quick-question-btn" data-question="What is HODL?">What is HODL?</button>
                           <button class="quick-question-btn" data-question="Explain DeFi">Explain DeFi</button>
                           <button class="quick-question-btn" data-question="What is a whale?">What is a whale?</button>
                           <button class="quick-question-btn" data-question="Wen moon?">Wen moon? üöÄ</button>
                           <button class="quick-question-btn" data-question="What are rug pulls?">Rug pulls?</button>
                       </div>
                   </div>
               </div>
           </div>
           <div class="chat-input-container">
               <div class="chat-input-wrapper">
                   <input type="text" class="chat-input" id="chatInput" placeholder="Ask about crypto..." autocomplete="off">
                   <button class="send-button" id="sendButton" aria-label="Send message">
                       <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                           <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                       </svg>
                   </button>
               </div>
           </div>
       </div>
   </div>
   
   <!-- Subscription Modal -->
   <div id="subscriptionModal" class="subscription-modal" style="display: none;">
       <div class="subscription-modal-content">
           <button class="subscription-modal-close" onclick="closeSubscriptionModal()">&times;</button>
           <div class="subscription-modal-header">
               <h2>üöÄ Unlock Premium Lessons</h2>
           </div>
           <div class="subscription-modal-body">
               <p class="subscription-modal-text">
                   <strong>Want real tools, not just words?</strong><br><br>
                   <span id="subscriptionDescriptionText">Learn the market through tools and experience, not just words. Simple explanations with visual diagrams make everything easy to understand.</span><br><br>
                   <strong>Subscribe for $15/month</strong> to unlock lessons 2-6!
               </p>
               <div class="subscription-modal-buttons">
                   <button class="subscription-pay-btn crypto-btn" onclick="payWithCrypto()">
                       üí≥ Pay with Crypto (USDT)
                   </button>
                   <button class="subscription-pay-btn card-btn" onclick="payWithCard()">
                       üè¶ Pay with Card (Visa/Mastercard)
                   </button>
               </div>
           </div>
       </div>
   </div>
   
   <!-- Load course.js FIRST so toggleLesson is available immediately -->
   <script src="course.js"></script>
   <script src="../../scripts/scroll-optimizer.js"></script>
   <script src="../../scripts/chatbot.js?v=39"></script>
   <script>
       // Close subscription modal when clicking outside
       window.addEventListener('click', function(event) {
           const modal = document.getElementById('subscriptionModal');
           if (event.target === modal) {
               closeSubscriptionModal();
           }
       });
       
       // Close modal with Escape key
       document.addEventListener('keydown', function(event) {
           if (event.key === 'Escape') {
               closeSubscriptionModal();
           }
       });
   </script>
   <script>
       // –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–ê–Ø –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ß–ê–¢–ê
       (function() {
           function initChatWidget() {
               const chatWidget = document.getElementById('chatWidget');
               const chatButton = document.getElementById('chatButton');
               const chatContainer = document.getElementById('chatContainer');
               const closeChat = document.getElementById('closeChat');
               
               if (!chatWidget || !chatButton || !chatContainer) {
                   console.warn('Chat elements not found, retrying...');
                   setTimeout(initChatWidget, 100);
                   return;
               }
               
               // –ü–µ—Ä–µ–º–µ—â–∞–µ–º —á–∞—Ç –≤ body –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
               if (chatWidget.parentElement !== document.body) {
                   document.body.appendChild(chatWidget);
               }
               
               // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∏–ª–∏
               chatWidget.style.cssText = 'position: fixed !important; bottom: 20px !important; right: 20px !important; z-index: 2147483647 !important; display: block !important; visibility: visible !important; opacity: 1 !important; pointer-events: auto !important;';
               chatButton.style.cssText = 'display: flex !important; visibility: visible !important; opacity: 1 !important; pointer-events: auto !important; cursor: pointer !important; width: 62px !important; height: 62px !important; border-radius: 50% !important; background: linear-gradient(135deg, #2a2a2a 0%, #1a1a1a 100%) !important; border: 2px solid #3a3a3a !important; align-items: center !important; justify-content: center !important; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.6) !important;';
               
               // –£–¥–∞–ª—è–µ–º –≤—Å–µ —Å—Ç–∞—Ä—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏ –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π
               const newButton = chatButton.cloneNode(true);
               chatButton.parentNode.replaceChild(newButton, chatButton);
               const newChatButton = document.getElementById('chatButton');
               
               // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è
               newChatButton.addEventListener('click', function(e) {
                   e.preventDefault();
                   e.stopPropagation();
                   console.log('‚úÖ Chat button clicked!');
                   
                   if (chatContainer.classList.contains('active')) {
                       chatContainer.classList.remove('active');
                       chatContainer.style.display = 'none';
                   } else {
                       chatContainer.classList.add('active');
                       chatContainer.style.cssText = 'position: fixed !important; bottom: 90px !important; right: 20px !important; width: 420px !important; height: 600px !important; background: #1a1a1a !important; border: 1px solid #2a2a2a !important; border-radius: 15px !important; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.8) !important; display: flex !important; flex-direction: column !important; overflow: hidden !important; z-index: 2147483646 !important; visibility: visible !important; opacity: 1 !important;';
                       
                       // –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø: –°—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω –æ–ø–ª–∞—Ç—ã –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —á–∞—Ç–∞ (–∫–∞–∫ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ)
                       setTimeout(() => {
                           const subscriptionSection = document.getElementById('subscriptionSection');
                           const chatExpiredOverlay = document.getElementById('chatExpiredOverlay');
                           const chatMessages = document.getElementById('chatMessages');
                           const chatInputContainer = document.querySelector('.chat-input-container');
                           
                           if (subscriptionSection && chatExpiredOverlay) {
                               // –°–∫—Ä—ã–≤–∞–µ–º —Ç–∞–π–º–µ—Ä
                               subscriptionSection.classList.add('hidden');
                               subscriptionSection.style.display = 'none';
                               
                               // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω –æ–ø–ª–∞—Ç—ã
                               chatExpiredOverlay.classList.remove('hidden');
                               chatExpiredOverlay.style.display = 'flex';
                               chatExpiredOverlay.style.visibility = 'visible';
                               chatExpiredOverlay.style.opacity = '1';
                               
                               // –£–±–µ–∂–¥–∞–µ–º—Å—è —á—Ç–æ –∫–Ω–æ–ø–∫–∏ –æ–ø–ª–∞—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã
                               const paymentButtons = chatExpiredOverlay.querySelectorAll('.payment-method-btn');
                               paymentButtons.forEach(btn => {
                                   btn.style.pointerEvents = 'auto';
                                   btn.disabled = false;
                               });
                               
                               // –ß–∞—Ç –æ—Å—Ç–∞–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –ø–æ–ª–µ –≤–≤–æ–¥–∞
                               if (chatMessages) {
                                   chatMessages.style.display = 'flex';
                               }
                               if (chatInputContainer) {
                                   chatInputContainer.style.display = 'block';
                               }
                               
                               console.log('‚úÖ Payment screen shown (synchronized with main page)');
                           }
                       }, 100);
                   }
               });
               
               // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–∫—Ä—ã—Ç–∏—è
               if (closeChat) {
                   closeChat.addEventListener('click', function(e) {
                       e.preventDefault();
                       e.stopPropagation();
                       chatContainer.classList.remove('active');
                       chatContainer.style.display = 'none';
                   });
               }
               
               console.log('‚úÖ Chat widget initialized successfully');
           }
           
           // –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
           initChatWidget();
           
           if (document.readyState === 'loading') {
               document.addEventListener('DOMContentLoaded', initChatWidget);
           }
           
           window.addEventListener('load', initChatWidget);
           
           // –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
           setTimeout(initChatWidget, 500);
           setTimeout(initChatWidget, 1000);
           setTimeout(initChatWidget, 2000);
           
           // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã –Ω–∞ —Å–ª—É—á–∞–π –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
           setInterval(function() {
               const chatButton = document.getElementById('chatButton');
               if (chatButton && !chatButton.onclick) {
                   initChatWidget();
               }
           }, 2000);
       })();
       
       // Load course content
       document.addEventListener('DOMContentLoaded', function() {
           // Ensure toggleLesson is available before loading content
           if (typeof window.toggleLesson !== 'function') {
               console.error('toggleLesson is not defined! Waiting...');
               setTimeout(arguments.callee, 100);
               return;
           }
           console.log('toggleLesson is available, loading content...');
           
           const courseContent = document.getElementById('course-content');
           if (courseContent) {
               // Load course content from external file
               fetch('course-content.html')
                   .then(response => response.text())
                   .then(html => {
                       // Create a temporary div to parse the HTML
                       const tempDiv = document.createElement('div');
                       tempDiv.innerHTML = html;
                       
                       // Extract and add styles to head
                       const styles = tempDiv.querySelectorAll('style');
                       styles.forEach(style => {
                           if (!document.getElementById('course-styles')) {
                               style.id = 'course-styles';
                               document.head.appendChild(style);
                           }
                       });
                       
                       // Extract body content (the actual course content)
                       const bodyContent = tempDiv.querySelector('body');
                       if (bodyContent) {
                           courseContent.innerHTML = bodyContent.innerHTML;
                           console.log('‚úÖ Loaded content from body, length:', bodyContent.innerHTML.length);
                       } else {
                           // If no body tag, use the container directly
                           const container = tempDiv.querySelector('.container');
                           if (container) {
                               courseContent.innerHTML = container.outerHTML;
                               console.log('‚úÖ Loaded content from container, length:', container.outerHTML.length);
                           } else {
                               courseContent.innerHTML = tempDiv.innerHTML;
                               console.log('‚úÖ Loaded content from tempDiv, length:', tempDiv.innerHTML.length);
                           }
                       }
                       
                       // Verify content was loaded
                       const loadedLessons = courseContent.querySelectorAll('.lesson-item');
                       console.log('üìö Loaded', loadedLessons.length, 'lesson items');
                       if (loadedLessons.length === 0) {
                           console.error('‚ùå NO LESSON ITEMS FOUND AFTER LOADING!');
                       }
                       
                       // Extract and execute scripts - but skip if they would conflict
                       const scripts = tempDiv.querySelectorAll('script');
                       scripts.forEach(oldScript => {
                           // Skip scripts that might conflict
                           if (oldScript.src && oldScript.src.includes('course.js')) {
                               console.log('Skipping duplicate course.js');
                               return;
                           }
                           const newScript = document.createElement('script');
                           if (oldScript.src) {
                               newScript.src = oldScript.src;
                           } else {
                               newScript.textContent = oldScript.textContent;
                           }
                           document.body.appendChild(newScript);
                       });
                       
                       // Re-initialize lesson items after content is loaded
                       setTimeout(async () => {
                           const lessonItems = document.querySelectorAll('.lesson-item');
                           console.log('Found', lessonItems.length, 'lesson items after content load');
                           
                           if (lessonItems.length === 0) {
                               console.warn('No lesson items found, retrying...');
                               setTimeout(arguments.callee, 500);
                               return;
                           }
                           
                           // Ensure toggleLesson is available
                           if (typeof window.toggleLesson !== 'function') {
                               console.error('toggleLesson is not available!');
                           } else {
                               console.log('toggleLesson is available');
                           }
                           
                           lessonItems.forEach((item, index) => {
                               const content = item.querySelector('.lesson-content');
                               const arrow = item.querySelector('.lesson-arrow');
                               const header = item.querySelector('.lesson-header');
                               
                               if (content && arrow) {
                                   content.style.display = 'none';
                                   arrow.textContent = '‚ñº';
                               }
                               
                               // Ensure onclick is set and event listener works
                               if (header) {
                                   // Set onclick attribute
                                   // Remove any existing event listeners by cloning
                                   const newHeader = header.cloneNode(true);
                                   header.parentNode.replaceChild(newHeader, header);
                                   const updatedHeader = item.querySelector('.lesson-header');
                                   
                                   // Set onclick only (no duplicate listeners)
                                   if (updatedHeader) {
                                       updatedHeader.setAttribute('onclick', 'window.toggleLesson(this, event)');
                                   }
                               }
                           });
                           
                           // Fetch subscription status and block paid lessons after content is loaded
                           if (typeof window.fetchSubscriptionStatus === 'function' && typeof window.blockPaidLessons === 'function') {
                               console.log('Fetching subscription status and blocking lessons...');
                               await window.fetchSubscriptionStatus();
                               window.blockPaidLessons();
                               console.log('Blocking complete');
                           } else {
                               console.error('Functions not available:', {
                                   fetchSubscriptionStatus: typeof window.fetchSubscriptionStatus,
                                   blockPaidLessons: typeof window.blockPaidLessons
                               });
                           }
                       }, 1500);
                   })
                   .catch(error => {
                       console.error('Error loading course content:', error);
                       courseContent.innerHTML = '<p style="color: white; text-align: center; padding: 40px;">Course content will be available soon.</p>';
                   });
           }
       });
   </script>
</body>
</html>

